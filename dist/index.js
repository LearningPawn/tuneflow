"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var Di="1.13.4",ci=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},Xe=Array.prototype,Gn=Object.prototype,li=typeof Symbol<"u"?Symbol.prototype:null,Wa=Xe.push,he=Xe.slice,ae=Gn.toString,Ya=Gn.hasOwnProperty,$i=typeof ArrayBuffer<"u",ja=typeof DataView<"u",Qa=Array.isArray,fi=Object.keys,hi=Object.create,pi=$i&&ArrayBuffer.isView,Xa=isNaN,Za=isFinite,Li=!{toString:null}.propertyIsEnumerable("toString"),di=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],tu=Math.pow(2,53)-1;function z(t,e){return e=e==null?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var s=Array(e+1);for(i=0;i<e;i++)s[i]=arguments[i];return s[e]=r,t.apply(this,s)}}function Mt(t){var e=typeof t;return e==="function"||e==="object"&&!!t}function eu(t){return t===null}function Hi(t){return t===void 0}function qi(t){return t===!0||t===!1||ae.call(t)==="[object Boolean]"}function nu(t){return!!(t&&t.nodeType===1)}function M(t){var e="[object "+t+"]";return function(n){return ae.call(n)===e}}const Jn=M("String"),zi=M("Number"),ru=M("Date"),iu=M("RegExp"),su=M("Error"),Ki=M("Symbol"),Gi=M("ArrayBuffer");var Ji=M("Function"),ou=ci.document&&ci.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof ou!="function"&&(Ji=function(t){return typeof t=="function"||!1});const U=Ji,Wi=M("Object");var Yi=ja&&Wi(new DataView(new ArrayBuffer(8))),Wn=typeof Map<"u"&&Wi(new Map),au=M("DataView");function uu(t){return t!=null&&U(t.getInt8)&&Gi(t.buffer)}const $e=Yi?uu:au,Vt=Qa||M("Array");function gt(t,e){return t!=null&&Ya.call(t,e)}var Nn=M("Arguments");(function(){Nn(arguments)||(Nn=function(t){return gt(t,"callee")})})();const Yn=Nn;function cu(t){return!Ki(t)&&Za(t)&&!isNaN(parseFloat(t))}function ji(t){return zi(t)&&Xa(t)}function Qi(t){return function(){return t}}function Xi(t){return function(e){var n=t(e);return typeof n=="number"&&n>=0&&n<=tu}}function Zi(t){return function(e){return e?.[t]}}const Le=Zi("byteLength"),lu=Xi(Le);var fu=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function hu(t){return pi?pi(t)&&!$e(t):lu(t)&&fu.test(ae.call(t))}const ts=$i?hu:Qi(!1),K=Zi("length");function pu(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(i){return e[i]===!0},push:function(i){return e[i]=!0,t.push(i)}}}function es(t,e){e=pu(e);var n=di.length,r=t.constructor,i=U(r)&&r.prototype||Gn,s="constructor";for(gt(t,s)&&!e.contains(s)&&e.push(s);n--;)s=di[n],s in t&&t[s]!==i[s]&&!e.contains(s)&&e.push(s)}function x(t){if(!Mt(t))return[];if(fi)return fi(t);var e=[];for(var n in t)gt(t,n)&&e.push(n);return Li&&es(t,e),e}function du(t){if(t==null)return!0;var e=K(t);return typeof e=="number"&&(Vt(t)||Jn(t)||Yn(t))?e===0:K(x(t))===0}function ns(t,e){var n=x(e),r=n.length;if(t==null)return!r;for(var i=Object(t),s=0;s<r;s++){var o=n[s];if(e[o]!==i[o]||!(o in i))return!1}return!0}function T(t){if(t instanceof T)return t;if(!(this instanceof T))return new T(t);this._wrapped=t}T.VERSION=Di;T.prototype.value=function(){return this._wrapped};T.prototype.valueOf=T.prototype.toJSON=T.prototype.value;T.prototype.toString=function(){return String(this._wrapped)};function gi(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,Le(t))}var mi="[object DataView]";function Pn(t,e,n,r){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var i=typeof t;return i!=="function"&&i!=="object"&&typeof e!="object"?!1:rs(t,e,n,r)}function rs(t,e,n,r){t instanceof T&&(t=t._wrapped),e instanceof T&&(e=e._wrapped);var i=ae.call(t);if(i!==ae.call(e))return!1;if(Yi&&i=="[object Object]"&&$e(t)){if(!$e(e))return!1;i=mi}switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return li.valueOf.call(t)===li.valueOf.call(e);case"[object ArrayBuffer]":case mi:return rs(gi(t),gi(e),n,r)}var s=i==="[object Array]";if(!s&&ts(t)){var o=Le(t);if(o!==Le(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;s=!0}if(!s){if(typeof t!="object"||typeof e!="object")return!1;var a=t.constructor,c=e.constructor;if(a!==c&&!(U(a)&&a instanceof a&&U(c)&&c instanceof c)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];for(var l=n.length;l--;)if(n[l]===t)return r[l]===e;if(n.push(t),r.push(e),s){if(l=t.length,l!==e.length)return!1;for(;l--;)if(!Pn(t[l],e[l],n,r))return!1}else{var p=x(t),h;if(l=p.length,x(e).length!==l)return!1;for(;l--;)if(h=p[l],!(gt(e,h)&&Pn(t[h],e[h],n,r)))return!1}return n.pop(),r.pop(),!0}function gu(t,e){return Pn(t,e)}function pe(t){if(!Mt(t))return[];var e=[];for(var n in t)e.push(n);return Li&&es(t,e),e}function jn(t){var e=K(t);return function(n){if(n==null)return!1;var r=pe(n);if(K(r))return!1;for(var i=0;i<e;i++)if(!U(n[t[i]]))return!1;return t!==os||!U(n[Qn])}}var Qn="forEach",is="has",Xn=["clear","delete"],ss=["get",is,"set"],mu=Xn.concat(Qn,ss),os=Xn.concat(ss),Iu=["add"].concat(Xn,Qn,is);const vu=Wn?jn(mu):M("Map"),Tu=Wn?jn(os):M("WeakMap"),yu=Wn?jn(Iu):M("Set"),bu=M("WeakSet");function Yt(t){for(var e=x(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r}function wu(t){for(var e=x(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r}function as(t){for(var e={},n=x(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e}function An(t){var e=[];for(var n in t)U(t[n])&&e.push(n);return e.sort()}function Zn(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||n==null)return n;for(var i=1;i<r;i++)for(var s=arguments[i],o=t(s),a=o.length,c=0;c<a;c++){var l=o[c];(!e||n[l]===void 0)&&(n[l]=s[l])}return n}}const us=Zn(pe),He=Zn(x),cs=Zn(pe,!0);function ku(){return function(){}}function ls(t){if(!Mt(t))return{};if(hi)return hi(t);var e=ku();e.prototype=t;var n=new e;return e.prototype=null,n}function Su(t,e){var n=ls(t);return e&&He(n,e),n}function _u(t){return Mt(t)?Vt(t)?t.slice():us({},t):t}function xu(t,e){return e(t),t}function fs(t){return Vt(t)?t:[t]}T.toPath=fs;function de(t){return T.toPath(t)}function tr(t,e){for(var n=e.length,r=0;r<n;r++){if(t==null)return;t=t[e[r]]}return n?t:void 0}function hs(t,e,n){var r=tr(t,de(e));return Hi(r)?n:r}function Cu(t,e){e=de(e);for(var n=e.length,r=0;r<n;r++){var i=e[r];if(!gt(t,i))return!1;t=t[i]}return!!n}function er(t){return t}function ue(t){return t=He({},t),function(e){return ns(e,t)}}function nr(t){return t=de(t),function(e){return tr(e,t)}}function ge(t,e,n){if(e===void 0)return t;switch(n??3){case 1:return function(r){return t.call(e,r)};case 3:return function(r,i,s){return t.call(e,r,i,s)};case 4:return function(r,i,s,o){return t.call(e,r,i,s,o)}}return function(){return t.apply(e,arguments)}}function ps(t,e,n){return t==null?er:U(t)?ge(t,e,n):Mt(t)&&!Vt(t)?ue(t):nr(t)}function rr(t,e){return ps(t,e,1/0)}T.iteratee=rr;function G(t,e,n){return T.iteratee!==rr?T.iteratee(t,e):ps(t,e,n)}function Eu(t,e,n){e=G(e,n);for(var r=x(t),i=r.length,s={},o=0;o<i;o++){var a=r[o];s[a]=e(t[a],a,t)}return s}function ds(){}function Nu(t){return t==null?ds:function(e){return hs(t,e)}}function Pu(t,e,n){var r=Array(Math.max(0,t));e=ge(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r}function On(t,e){return e==null&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}const ce=Date.now||function(){return new Date().getTime()};function gs(t){var e=function(s){return t[s]},n="(?:"+x(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(s){return s=s==null?"":""+s,r.test(s)?s.replace(i,e):s}}const ms={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Au=gs(ms),Ou=as(ms),Mu=gs(Ou),Vu=T.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var yn=/(.)^/,Ru={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Fu=/\\|'|\r|\n|\u2028|\u2029/g;function Uu(t){return"\\"+Ru[t]}var Bu=/^\s*(\w|\$)+\s*$/;function Du(t,e,n){!e&&n&&(e=n),e=cs({},e,T.templateSettings);var r=RegExp([(e.escape||yn).source,(e.interpolate||yn).source,(e.evaluate||yn).source].join("|")+"|$","g"),i=0,s="__p+='";t.replace(r,function(l,p,h,g,I){return s+=t.slice(i,I).replace(Fu,Uu),i=I+l.length,p?s+=`'+
((__t=(`+p+`))==null?'':_.escape(__t))+
'`:h?s+=`'+
((__t=(`+h+`))==null?'':__t)+
'`:g&&(s+=`';
`+g+`
__p+='`),l}),s+=`';
`;var o=e.variable;if(o){if(!Bu.test(o))throw new Error("variable is not a bare identifier: "+o)}else s=`with(obj||{}){
`+s+`}
`,o="obj";s=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+s+`return __p;
`;var a;try{a=new Function(o,"_",s)}catch(l){throw l.source=s,l}var c=function(l){return a.call(this,l,T)};return c.source="function("+o+`){
`+s+"}",c}function $u(t,e,n){e=de(e);var r=e.length;if(!r)return U(n)?n.call(t):n;for(var i=0;i<r;i++){var s=t?.[e[i]];s===void 0&&(s=n,i=r),t=U(s)?s.call(t):s}return t}var Lu=0;function Hu(t){var e=++Lu+"";return t?t+e:e}function qu(t){var e=T(t);return e._chain=!0,e}function Is(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var s=ls(t.prototype),o=t.apply(s,i);return Mt(o)?o:s}var jt=z(function(t,e){var n=jt.placeholder,r=function(){for(var i=0,s=e.length,o=Array(s),a=0;a<s;a++)o[a]=e[a]===n?arguments[i++]:e[a];for(;i<arguments.length;)o.push(arguments[i++]);return Is(t,r,this,this,o)};return r});jt.placeholder=T;const vs=z(function(t,e,n){if(!U(t))throw new TypeError("Bind must be called on a function");var r=z(function(i){return Is(t,r,e,this,n.concat(i))});return r}),j=Xi(K);function Rt(t,e,n,r){if(r=r||[],!e&&e!==0)e=1/0;else if(e<=0)return r.concat(t);for(var i=r.length,s=0,o=K(t);s<o;s++){var a=t[s];if(j(a)&&(Vt(a)||Yn(a)))if(e>1)Rt(a,e-1,n,r),i=r.length;else for(var c=0,l=a.length;c<l;)r[i++]=a[c++];else n||(r[i++]=a)}return r}const zu=z(function(t,e){e=Rt(e,!1,!1);var n=e.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=vs(t[r],t)}return t});function Ku(t,e){var n=function(r){var i=n.cache,s=""+(e?e.apply(this,arguments):r);return gt(i,s)||(i[s]=t.apply(this,arguments)),i[s]};return n.cache={},n}const Ts=z(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),Gu=jt(Ts,T,1);function Ju(t,e,n){var r,i,s,o,a=0;n||(n={});var c=function(){a=n.leading===!1?0:ce(),r=null,o=t.apply(i,s),r||(i=s=null)},l=function(){var p=ce();!a&&n.leading===!1&&(a=p);var h=e-(p-a);return i=this,s=arguments,h<=0||h>e?(r&&(clearTimeout(r),r=null),a=p,o=t.apply(i,s),r||(i=s=null)):!r&&n.trailing!==!1&&(r=setTimeout(c,h)),o};return l.cancel=function(){clearTimeout(r),a=0,r=i=s=null},l}function Wu(t,e,n){var r,i,s,o,a,c=function(){var p=ce()-i;e>p?r=setTimeout(c,e-p):(r=null,n||(o=t.apply(a,s)),r||(s=a=null))},l=z(function(p){return a=this,s=p,i=ce(),r||(r=setTimeout(c,e),n&&(o=t.apply(a,s))),o});return l.cancel=function(){clearTimeout(r),r=s=a=null},l}function Yu(t,e){return jt(e,t)}function ir(t){return function(){return!t.apply(this,arguments)}}function ju(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}}function Qu(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function ys(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}const Xu=jt(ys,2);function bs(t,e,n){e=G(e,n);for(var r=x(t),i,s=0,o=r.length;s<o;s++)if(i=r[s],e(t[i],i,t))return i}function ws(t){return function(e,n,r){n=G(n,r);for(var i=K(e),s=t>0?0:i-1;s>=0&&s<i;s+=t)if(n(e[s],s,e))return s;return-1}}const Jt=ws(1),ks=ws(-1);function Ss(t,e,n,r){n=G(n,r,1);for(var i=n(e),s=0,o=K(t);s<o;){var a=Math.floor((s+o)/2);n(t[a])<i?s=a+1:o=a}return s}function _s(t,e,n){return function(r,i,s){var o=0,a=K(r);if(typeof s=="number")t>0?o=s>=0?s:Math.max(s+a,o):a=s>=0?Math.min(s+1,a):s+a+1;else if(n&&s&&a)return s=n(r,i),r[s]===i?s:-1;if(i!==i)return s=e(he.call(r,o,a),ji),s>=0?s+o:-1;for(s=t>0?o:a-1;s>=0&&s<a;s+=t)if(r[s]===i)return s;return-1}}const xs=_s(1,Jt,Ss),Zu=_s(-1,ks);function qe(t,e,n){var r=j(t)?Jt:bs,i=r(t,e,n);if(i!==void 0&&i!==-1)return t[i]}function tc(t,e){return qe(t,ue(e))}function ut(t,e,n){e=ge(e,n);var r,i;if(j(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var s=x(t);for(r=0,i=s.length;r<i;r++)e(t[s[r]],s[r],t)}return t}function At(t,e,n){e=G(e,n);for(var r=!j(t)&&x(t),i=(r||t).length,s=Array(i),o=0;o<i;o++){var a=r?r[o]:o;s[o]=e(t[a],a,t)}return s}function Cs(t){var e=function(n,r,i,s){var o=!j(n)&&x(n),a=(o||n).length,c=t>0?0:a-1;for(s||(i=n[o?o[c]:c],c+=t);c>=0&&c<a;c+=t){var l=o?o[c]:c;i=r(i,n[l],l,n)}return i};return function(n,r,i,s){var o=arguments.length>=3;return e(n,ge(r,s,4),i,o)}}const bn=Cs(1),Ii=Cs(-1);function Wt(t,e,n){var r=[];return e=G(e,n),ut(t,function(i,s,o){e(i,s,o)&&r.push(i)}),r}function ec(t,e,n){return Wt(t,ir(G(e)),n)}function vi(t,e,n){e=G(e,n);for(var r=!j(t)&&x(t),i=(r||t).length,s=0;s<i;s++){var o=r?r[s]:s;if(!e(t[o],o,t))return!1}return!0}function Ti(t,e,n){e=G(e,n);for(var r=!j(t)&&x(t),i=(r||t).length,s=0;s<i;s++){var o=r?r[s]:s;if(e(t[o],o,t))return!0}return!1}function at(t,e,n,r){return j(t)||(t=Yt(t)),(typeof n!="number"||r)&&(n=0),xs(t,e,n)>=0}const nc=z(function(t,e,n){var r,i;return U(e)?i=e:(e=de(e),r=e.slice(0,-1),e=e[e.length-1]),At(t,function(s){var o=i;if(!o){if(r&&r.length&&(s=tr(s,r)),s==null)return;o=s[e]}return o==null?o:o.apply(s,n)})});function sr(t,e){return At(t,nr(e))}function rc(t,e){return Wt(t,ue(e))}function Es(t,e,n){var r=-1/0,i=-1/0,s,o;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=j(t)?t:Yt(t);for(var a=0,c=t.length;a<c;a++)s=t[a],s!=null&&s>r&&(r=s)}else e=G(e,n),ut(t,function(l,p,h){o=e(l,p,h),(o>i||o===-1/0&&r===-1/0)&&(r=l,i=o)});return r}function ic(t,e,n){var r=1/0,i=1/0,s,o;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=j(t)?t:Yt(t);for(var a=0,c=t.length;a<c;a++)s=t[a],s!=null&&s<r&&(r=s)}else e=G(e,n),ut(t,function(l,p,h){o=e(l,p,h),(o<i||o===1/0&&r===1/0)&&(r=l,i=o)});return r}var sc=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Ns(t){return t?Vt(t)?he.call(t):Jn(t)?t.match(sc):j(t)?At(t,er):Yt(t):[]}function Ps(t,e,n){if(e==null||n)return j(t)||(t=Yt(t)),t[On(t.length-1)];var r=Ns(t),i=K(r);e=Math.max(Math.min(e,i),0);for(var s=i-1,o=0;o<e;o++){var a=On(o,s),c=r[o];r[o]=r[a],r[a]=c}return r.slice(0,e)}function oc(t){return Ps(t,1/0)}function ac(t,e,n){var r=0;return e=G(e,n),sr(At(t,function(i,s,o){return{value:i,index:r++,criteria:e(i,s,o)}}).sort(function(i,s){var o=i.criteria,a=s.criteria;if(o!==a){if(o>a||o===void 0)return 1;if(o<a||a===void 0)return-1}return i.index-s.index}),"value")}function Ze(t,e){return function(n,r,i){var s=e?[[],[]]:{};return r=G(r,i),ut(n,function(o,a){var c=r(o,a,n);t(s,o,c)}),s}}const uc=Ze(function(t,e,n){gt(t,n)?t[n].push(e):t[n]=[e]}),cc=Ze(function(t,e,n){t[n]=e}),lc=Ze(function(t,e,n){gt(t,n)?t[n]++:t[n]=1}),fc=Ze(function(t,e,n){t[n?0:1].push(e)},!0);function hc(t){return t==null?0:j(t)?t.length:x(t).length}function pc(t,e,n){return e in n}const As=z(function(t,e){var n={},r=e[0];if(t==null)return n;U(r)?(e.length>1&&(r=ge(r,e[1])),e=pe(t)):(r=pc,e=Rt(e,!1,!1),t=Object(t));for(var i=0,s=e.length;i<s;i++){var o=e[i],a=t[o];r(a,o,t)&&(n[o]=a)}return n}),dc=z(function(t,e){var n=e[0],r;return U(n)?(n=ir(n),e.length>1&&(r=e[1])):(e=At(Rt(e,!1,!1),String),n=function(i,s){return!at(e,s)}),As(t,n,r)});function Os(t,e,n){return he.call(t,0,Math.max(0,t.length-(e==null||n?1:e)))}function wn(t,e,n){return t==null||t.length<1?e==null||n?void 0:[]:e==null||n?t[0]:Os(t,t.length-e)}function Be(t,e,n){return he.call(t,e==null||n?1:e)}function gc(t,e,n){return t==null||t.length<1?e==null||n?void 0:[]:e==null||n?t[t.length-1]:Be(t,Math.max(0,t.length-e))}function mc(t){return Wt(t,Boolean)}function Ic(t,e){return Rt(t,e,!1)}const Ms=z(function(t,e){return e=Rt(e,!0,!0),Wt(t,function(n){return!at(e,n)})}),vc=z(function(t,e){return Ms(t,e)});function Mn(t,e,n,r){qi(e)||(r=n,n=e,e=!1),n!=null&&(n=G(n,r));for(var i=[],s=[],o=0,a=K(t);o<a;o++){var c=t[o],l=n?n(c,o,t):c;e&&!n?((!o||s!==l)&&i.push(c),s=l):n?at(s,l)||(s.push(l),i.push(c)):at(i,c)||i.push(c)}return i}const Tc=z(function(t){return Mn(Rt(t,!0,!0))});function yc(t){for(var e=[],n=arguments.length,r=0,i=K(t);r<i;r++){var s=t[r];if(!at(e,s)){var o;for(o=1;o<n&&at(arguments[o],s);o++);o===n&&e.push(s)}}return e}function Vn(t){for(var e=t&&Es(t,K).length||0,n=Array(e),r=0;r<e;r++)n[r]=sr(t,r);return n}const bc=z(Vn);function wc(t,e){for(var n={},r=0,i=K(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n}function kc(t,e,n){e==null&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),s=0;s<r;s++,t+=n)i[s]=t;return i}function Sc(t,e){if(e==null||e<1)return[];for(var n=[],r=0,i=t.length;r<i;)n.push(he.call(t,r,r+=e));return n}function or(t,e){return t._chain?T(e).chain():e}function Vs(t){return ut(An(t),function(e){var n=T[e]=t[e];T.prototype[e]=function(){var r=[this._wrapped];return Wa.apply(r,arguments),or(this,n.apply(T,r))}}),T}ut(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=Xe[t];T.prototype[t]=function(){var n=this._wrapped;return n!=null&&(e.apply(n,arguments),(t==="shift"||t==="splice")&&n.length===0&&delete n[0]),or(this,n)}});ut(["concat","join","slice"],function(t){var e=Xe[t];T.prototype[t]=function(){var n=this._wrapped;return n!=null&&(n=e.apply(n,arguments)),or(this,n)}});const _c=Object.freeze(Object.defineProperty({__proto__:null,VERSION:Di,restArguments:z,isObject:Mt,isNull:eu,isUndefined:Hi,isBoolean:qi,isElement:nu,isString:Jn,isNumber:zi,isDate:ru,isRegExp:iu,isError:su,isSymbol:Ki,isArrayBuffer:Gi,isDataView:$e,isArray:Vt,isFunction:U,isArguments:Yn,isFinite:cu,isNaN:ji,isTypedArray:ts,isEmpty:du,isMatch:ns,isEqual:gu,isMap:vu,isWeakMap:Tu,isSet:yu,isWeakSet:bu,keys:x,allKeys:pe,values:Yt,pairs:wu,invert:as,functions:An,methods:An,extend:us,extendOwn:He,assign:He,defaults:cs,create:Su,clone:_u,tap:xu,get:hs,has:Cu,mapObject:Eu,identity:er,constant:Qi,noop:ds,toPath:fs,property:nr,propertyOf:Nu,matcher:ue,matches:ue,times:Pu,random:On,now:ce,escape:Au,unescape:Mu,templateSettings:Vu,template:Du,result:$u,uniqueId:Hu,chain:qu,iteratee:rr,partial:jt,bind:vs,bindAll:zu,memoize:Ku,delay:Ts,defer:Gu,throttle:Ju,debounce:Wu,wrap:Yu,negate:ir,compose:ju,after:Qu,before:ys,once:Xu,findKey:bs,findIndex:Jt,findLastIndex:ks,sortedIndex:Ss,indexOf:xs,lastIndexOf:Zu,find:qe,detect:qe,findWhere:tc,each:ut,forEach:ut,map:At,collect:At,reduce:bn,foldl:bn,inject:bn,reduceRight:Ii,foldr:Ii,filter:Wt,select:Wt,reject:ec,every:vi,all:vi,some:Ti,any:Ti,contains:at,includes:at,include:at,invoke:nc,pluck:sr,where:rc,max:Es,min:ic,shuffle:oc,sample:Ps,sortBy:ac,groupBy:uc,indexBy:cc,countBy:lc,partition:fc,toArray:Ns,size:hc,pick:As,omit:dc,first:wn,head:wn,take:wn,initial:Os,last:gc,rest:Be,tail:Be,drop:Be,compact:mc,flatten:Ic,without:vc,uniq:Mn,unique:Mn,union:Tc,intersection:yc,difference:Ms,unzip:Vn,transpose:Vn,zip:bc,object:wc,range:kc,chunk:Sc,mixin:Vs,default:T},Symbol.toStringTag,{value:"Module"}));var N=Vs(_c);N._=N;let tn=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");class ar{instanceIdInternal=ar.generatePluginIdInternal();enabledInternal=!0;paramsResultInternal={};generatedTrackIdsInternal=[];isRollbackable=!1;songCacheInternal;progress=null;isExecuting=!1;static providerId(){throw new Error("providerId() should be overwritten.")}static pluginId(){throw new Error("pluginId() should be overwritten.")}static providerDisplayName(){throw new Error("providerDisplayName() should be overwritten.")}static pluginDisplayName(){throw new Error("pluginDisplayName() should be overwritten.")}static pluginDescription(){return null}static allowReset(){return!0}async init(e,n){}params(){return{}}songAccess(){return{}}allowManualApplyAdjust(){return!1}async run(e,n,r){}static async create(e,n){const r=new this;return r.resetInternal(),await r.init(e,n),r}get instanceId(){return this.instanceIdInternal}getParam(e,n){return e[n]}hasAllParamsSet(){for(const e of x(this.params()))if(!this.isParamProvided(e))return!1;return!0}isParamProvided(e){if(this.params()[e].optional)return!0;const n=this.paramsResultInternal[e];if(n==null)return!1;const i=this.params()[e].widget.type;switch(i){case A.Input:case A.Pitch:case A.Slider:case A.TrackSelector:case A.Select:case A.SelectList:case A.Switch:case A.InputNumber:case A.FileSelector:return!0;case A.MultiTrackSelector:return n.length>0;case A.TrackPitchSelector:return n.track!==void 0&&n.track!==null&&n.pitch!==void 0&&n.pitch!==null;case A.InstrumentSelector:return n.program!==void 0&&n.program!==null&&n.isDrum!==void 0&&n.isDrum!==null;case A.MultiSourceAudioSelector:return n!=null&&n.audioInfo!==void 0&&n.audioInfo!==null;case A.None:return n!=null;default:throw new Error(`Param nullness check needs to be implemented for widget type ${i}. Either use default nullness check or define custom logic.`)}}static id(){return`${this.providerId()}^_^${this.pluginId()}`}static getPrefixedArtifactId(e){return`${this.id()}.${e}`}setProgress(e){this.progress=e}getProgress(){return this.progress}getIsExecuting(){return this.isExecuting}setParamsInternal(e){this.paramsResultInternal=e,this.maybeSyncEnabledWithParamsReadiness()}getParamsInternal(){return this.paramsResultInternal}resetParamsInternal(){for(const e of x(this.params())){const n=this.params()[e];this.paramsResultInternal[e]=n.defaultValue}this.maybeSyncEnabledWithParamsReadiness()}resetInternal(){this.resetParamsInternal(),this.allowManualApplyAdjust()&&(this.enabledInternal=!1)}setEnabledInternal(e){this.enabledInternal=e}maybeSyncEnabledWithParamsReadiness(){this.allowManualApplyAdjust()&&!this.hasAllParamsSet()&&this.setEnabledInternal(!1)}static generatePluginIdInternal(){return tn(10)}}class xc{plugins=[];threwErrorInLastRun=!1;maxNumPluginsToKeep=50;originalSong;cloneSongFnInternal;readApisInternal;activePluginIndex=-1;addAsOrReplaceActivePlugin(e){let n;return this.activePluginIndex<=-1?n=0:this.plugins[this.activePluginIndex].isRollbackable?n=this.activePluginIndex+1:n=this.activePluginIndex,this.plugins.length>0&&this.plugins.splice(n,this.plugins.length-n),this.addPluginAt(e,n),this.getPluginIndexByPluginInstanceId(e.instanceId)}getPlugins(){return this.plugins}resetCache(){for(const e of this.plugins)delete e.songCacheInternal}setOriginalSong(e){this.originalSong=e}hasOriginalSong(){return!!this.originalSong}async run(e=0){if(!this.originalSong)return this.threwErrorInLastRun=!0,null;e=Math.max(0,e),this.setActivePluginIndex(e),this.threwErrorInLastRun=!1;const n=this.getIndexOfLatestPluginWithCacheBeforeIndex(e),r=await this.cloneCachedSongAtPluginIndex(n);for(let i=e;i<this.plugins.length;i+=1)delete this.plugins[i].songCacheInternal;for(let i=0;i<this.plugins.length;i+=1)this.plugins[i].isRollbackable=i<=n;for(let i=n>=0?n+1:0;i<this.plugins.length;i+=1){const s=this.plugins[i];if(!s.enabledInternal||!s.hasAllParamsSet())return r;r.setPluginContextInternal(s);try{s.isExecuting=!0,s.setProgress(null),await s.run(r,s.getParamsInternal(),this.readApisInternal),r.clearPluginContextInternal(),s.isExecuting=!1}catch{this.threwErrorInLastRun=!0,r.clearPluginContextInternal(),s.isExecuting=!1;const a=this.getIndexOfLatestPluginWithCacheBeforeIndex(i);return a>=0?await this.cloneSong(this.plugins[a].songCacheInternal):await this.cloneSong(this.originalSong)}s.songCacheInternal=await this.cloneSong(r),s.isRollbackable=!0}return r}restoreCachedPlugin(e){return this.setActivePluginIndex(e),this.cloneCachedSongAtPluginIndex(e)}async cloneSong(e){if(!this.cloneSongFnInternal)throw new Error("Pipeline is not provided with a clone song function.");return this.cloneSongFnInternal(e)}getActivePluginIndex(){return this.activePluginIndex}setActivePluginIndex(e){this.activePluginIndex=e}async cloneCachedSongAtPluginIndex(e){if(e>=0)return await this.cloneSong(this.plugins[e].songCacheInternal);if(!this.originalSong)throw new Error("Original song is not avaiable to clone.");return await this.cloneSong(this.originalSong)}reset(){this.plugins.splice(0,this.plugins.length),this.originalSong=void 0,this.activePluginIndex=-1,this.threwErrorInLastRun=!1}isPluginFunctioning(e){return!!e.songCacheInternal}getPluginIndexByPluginInstanceId(e){return Jt(this.plugins,n=>n.instanceId===e)}getThrewErrorInLastRun(){return this.threwErrorInLastRun}getPluginCache(e){return e.songCacheInternal}setMaxNumPluginsToKeep(e){this.maxNumPluginsToKeep=e,this.maintainPluginListSize()}getIndexOfLatestPluginWithCacheBeforeIndex(e){for(let n=e-1;n>=0;n-=1)if(this.getPluginCache(this.plugins[n]))return n;return-1}maintainPluginListSize(){for(;this.plugins.length>this.maxNumPluginsToKeep&&this.plugins.length>0;)this.plugins.shift()}addPluginAt(e,n){this.plugins.splice(n,0,e),this.maintainPluginListSize()}}var X=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cc(t,e,n,r,i){for(var s=i+1;r<=i;){var o=r+i>>>1,a=t[o],c=n!==void 0?n(a,e):a-e;c>=0?(s=o,i=o-1):r=o+1}return s}function Ec(t,e,n,r,i){for(var s=i+1;r<=i;){var o=r+i>>>1,a=t[o],c=n!==void 0?n(a,e):a-e;c>0?(s=o,i=o-1):r=o+1}return s}function Nc(t,e,n,r,i){for(var s=r-1;r<=i;){var o=r+i>>>1,a=t[o],c=n!==void 0?n(a,e):a-e;c<0?(s=o,r=o+1):i=o-1}return s}function Pc(t,e,n,r,i){for(var s=r-1;r<=i;){var o=r+i>>>1,a=t[o],c=n!==void 0?n(a,e):a-e;c<=0?(s=o,r=o+1):i=o-1}return s}function Ac(t,e,n,r,i){for(;r<=i;){var s=r+i>>>1,o=t[s],a=n!==void 0?n(o,e):o-e;if(a===0)return s;a<=0?r=s+1:i=s-1}return-1}function te(t,e,n,r,i,s){return typeof n=="function"?s(t,e,n,r===void 0?0:r|0,i===void 0?t.length-1:i|0):s(t,e,void 0,n===void 0?0:n|0,r===void 0?t.length-1:r|0)}var O={ge:function(t,e,n,r,i){return te(t,e,n,r,i,Cc)},gt:function(t,e,n,r,i){return te(t,e,n,r,i,Ec)},lt:function(t,e,n,r,i){return te(t,e,n,r,i,Nc)},le:function(t,e,n,r,i){return te(t,e,n,r,i,Pc)},eq:function(t,e,n,r,i){return te(t,e,n,r,i,Ac)}},Rn={exports:{}};(function(t,e){var n=200,r="__lodash_hash_undefined__",i=9007199254740991,s="[object Arguments]",o="[object Array]",a="[object Boolean]",c="[object Date]",l="[object Error]",p="[object Function]",h="[object GeneratorFunction]",g="[object Map]",I="[object Number]",v="[object Object]",k="[object Promise]",mt="[object RegExp]",P="[object Set]",w="[object String]",ye="[object Symbol]",Qt="[object WeakMap]",Er="[object ArrayBuffer]",be="[object DataView]",Nr="[object Float32Array]",Pr="[object Float64Array]",Ar="[object Int8Array]",Or="[object Int16Array]",Mr="[object Int32Array]",Vr="[object Uint8Array]",Rr="[object Uint8ClampedArray]",Fr="[object Uint16Array]",Ur="[object Uint32Array]",So=/[\\^$.*+?()[\]{}|]/g,_o=/\w*$/,xo=/^\[object .+?Constructor\]$/,Co=/^(?:0|[1-9]\d*)$/,b={};b[s]=b[o]=b[Er]=b[be]=b[a]=b[c]=b[Nr]=b[Pr]=b[Ar]=b[Or]=b[Mr]=b[g]=b[I]=b[v]=b[mt]=b[P]=b[w]=b[ye]=b[Vr]=b[Rr]=b[Fr]=b[Ur]=!0,b[l]=b[p]=b[Qt]=!1;var Eo=typeof X=="object"&&X&&X.Object===Object&&X,No=typeof self=="object"&&self&&self.Object===Object&&self,it=Eo||No||Function("return this")(),Br=e&&!e.nodeType&&e,Dr=Br&&!0&&t&&!t.nodeType&&t,Po=Dr&&Dr.exports===Br;function Ao(u,f){return u.set(f[0],f[1]),u}function Oo(u,f){return u.add(f),u}function Mo(u,f){for(var d=-1,m=u?u.length:0;++d<m&&f(u[d],d,u)!==!1;);return u}function Vo(u,f){for(var d=-1,m=f.length,E=u.length;++d<m;)u[E+d]=f[d];return u}function $r(u,f,d,m){var E=-1,V=u?u.length:0;for(m&&V&&(d=u[++E]);++E<V;)d=f(d,u[E],E,u);return d}function Ro(u,f){for(var d=-1,m=Array(u);++d<u;)m[d]=f(d);return m}function Fo(u,f){return u?.[f]}function Lr(u){var f=!1;if(u!=null&&typeof u.toString!="function")try{f=!!(u+"")}catch{}return f}function Hr(u){var f=-1,d=Array(u.size);return u.forEach(function(m,E){d[++f]=[E,m]}),d}function cn(u,f){return function(d){return u(f(d))}}function qr(u){var f=-1,d=Array(u.size);return u.forEach(function(m){d[++f]=m}),d}var Uo=Array.prototype,Bo=Function.prototype,we=Object.prototype,ln=it["__core-js_shared__"],zr=function(){var u=/[^.]+$/.exec(ln&&ln.keys&&ln.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),Kr=Bo.toString,ct=we.hasOwnProperty,ke=we.toString,Do=RegExp("^"+Kr.call(ct).replace(So,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Gr=Po?it.Buffer:void 0,Jr=it.Symbol,Wr=it.Uint8Array,$o=cn(Object.getPrototypeOf,Object),Lo=Object.create,Ho=we.propertyIsEnumerable,qo=Uo.splice,Yr=Object.getOwnPropertySymbols,zo=Gr?Gr.isBuffer:void 0,Ko=cn(Object.keys,Object),fn=Bt(it,"DataView"),Xt=Bt(it,"Map"),hn=Bt(it,"Promise"),pn=Bt(it,"Set"),dn=Bt(it,"WeakMap"),Zt=Bt(Object,"create"),Go=Tt(fn),Jo=Tt(Xt),Wo=Tt(hn),Yo=Tt(pn),jo=Tt(dn),jr=Jr?Jr.prototype:void 0,Qr=jr?jr.valueOf:void 0;function It(u){var f=-1,d=u?u.length:0;for(this.clear();++f<d;){var m=u[f];this.set(m[0],m[1])}}function Qo(){this.__data__=Zt?Zt(null):{}}function Xo(u){return this.has(u)&&delete this.__data__[u]}function Zo(u){var f=this.__data__;if(Zt){var d=f[u];return d===r?void 0:d}return ct.call(f,u)?f[u]:void 0}function ta(u){var f=this.__data__;return Zt?f[u]!==void 0:ct.call(f,u)}function ea(u,f){var d=this.__data__;return d[u]=Zt&&f===void 0?r:f,this}It.prototype.clear=Qo,It.prototype.delete=Xo,It.prototype.get=Zo,It.prototype.has=ta,It.prototype.set=ea;function st(u){var f=-1,d=u?u.length:0;for(this.clear();++f<d;){var m=u[f];this.set(m[0],m[1])}}function na(){this.__data__=[]}function ra(u){var f=this.__data__,d=Se(f,u);if(d<0)return!1;var m=f.length-1;return d==m?f.pop():qo.call(f,d,1),!0}function ia(u){var f=this.__data__,d=Se(f,u);return d<0?void 0:f[d][1]}function sa(u){return Se(this.__data__,u)>-1}function oa(u,f){var d=this.__data__,m=Se(d,u);return m<0?d.push([u,f]):d[m][1]=f,this}st.prototype.clear=na,st.prototype.delete=ra,st.prototype.get=ia,st.prototype.has=sa,st.prototype.set=oa;function Ft(u){var f=-1,d=u?u.length:0;for(this.clear();++f<d;){var m=u[f];this.set(m[0],m[1])}}function aa(){this.__data__={hash:new It,map:new(Xt||st),string:new It}}function ua(u){return _e(this,u).delete(u)}function ca(u){return _e(this,u).get(u)}function la(u){return _e(this,u).has(u)}function fa(u,f){return _e(this,u).set(u,f),this}Ft.prototype.clear=aa,Ft.prototype.delete=ua,Ft.prototype.get=ca,Ft.prototype.has=la,Ft.prototype.set=fa;function Ut(u){this.__data__=new st(u)}function ha(){this.__data__=new st}function pa(u){return this.__data__.delete(u)}function da(u){return this.__data__.get(u)}function ga(u){return this.__data__.has(u)}function ma(u,f){var d=this.__data__;if(d instanceof st){var m=d.__data__;if(!Xt||m.length<n-1)return m.push([u,f]),this;d=this.__data__=new Ft(m)}return d.set(u,f),this}Ut.prototype.clear=ha,Ut.prototype.delete=pa,Ut.prototype.get=da,Ut.prototype.has=ga,Ut.prototype.set=ma;function Ia(u,f){var d=In(u)||La(u)?Ro(u.length,String):[],m=d.length,E=!!m;for(var V in u)(f||ct.call(u,V))&&!(E&&(V=="length"||Ua(V,m)))&&d.push(V);return d}function Xr(u,f,d){var m=u[f];(!(ct.call(u,f)&&ni(m,d))||d===void 0&&!(f in u))&&(u[f]=d)}function Se(u,f){for(var d=u.length;d--;)if(ni(u[d][0],f))return d;return-1}function va(u,f){return u&&Zr(f,vn(f),u)}function gn(u,f,d,m,E,V,Q){var $;if(m&&($=V?m(u,E,V,Q):m(u)),$!==void 0)return $;if(!xe(u))return u;var si=In(u);if(si){if($=Va(u),!f)return Aa(u,$)}else{var Dt=vt(u),oi=Dt==p||Dt==h;if(qa(u))return Sa(u,f);if(Dt==v||Dt==s||oi&&!V){if(Lr(u))return V?u:{};if($=Ra(oi?{}:u),!f)return Oa(u,va($,u))}else{if(!b[Dt])return V?u:{};$=Fa(u,Dt,gn,f)}}Q||(Q=new Ut);var ai=Q.get(u);if(ai)return ai;if(Q.set(u,$),!si)var ui=d?Ma(u):vn(u);return Mo(ui||u,function(Tn,Ce){ui&&(Ce=Tn,Tn=u[Ce]),Xr($,Ce,gn(Tn,f,d,m,Ce,u,Q))}),$}function Ta(u){return xe(u)?Lo(u):{}}function ya(u,f,d){var m=f(u);return In(u)?m:Vo(m,d(u))}function ba(u){return ke.call(u)}function wa(u){if(!xe(u)||Da(u))return!1;var f=ii(u)||Lr(u)?Do:xo;return f.test(Tt(u))}function ka(u){if(!ei(u))return Ko(u);var f=[];for(var d in Object(u))ct.call(u,d)&&d!="constructor"&&f.push(d);return f}function Sa(u,f){if(f)return u.slice();var d=new u.constructor(u.length);return u.copy(d),d}function mn(u){var f=new u.constructor(u.byteLength);return new Wr(f).set(new Wr(u)),f}function _a(u,f){var d=f?mn(u.buffer):u.buffer;return new u.constructor(d,u.byteOffset,u.byteLength)}function xa(u,f,d){var m=f?d(Hr(u),!0):Hr(u);return $r(m,Ao,new u.constructor)}function Ca(u){var f=new u.constructor(u.source,_o.exec(u));return f.lastIndex=u.lastIndex,f}function Ea(u,f,d){var m=f?d(qr(u),!0):qr(u);return $r(m,Oo,new u.constructor)}function Na(u){return Qr?Object(Qr.call(u)):{}}function Pa(u,f){var d=f?mn(u.buffer):u.buffer;return new u.constructor(d,u.byteOffset,u.length)}function Aa(u,f){var d=-1,m=u.length;for(f||(f=Array(m));++d<m;)f[d]=u[d];return f}function Zr(u,f,d,m){d||(d={});for(var E=-1,V=f.length;++E<V;){var Q=f[E],$=m?m(d[Q],u[Q],Q,d,u):void 0;Xr(d,Q,$===void 0?u[Q]:$)}return d}function Oa(u,f){return Zr(u,ti(u),f)}function Ma(u){return ya(u,vn,ti)}function _e(u,f){var d=u.__data__;return Ba(f)?d[typeof f=="string"?"string":"hash"]:d.map}function Bt(u,f){var d=Fo(u,f);return wa(d)?d:void 0}var ti=Yr?cn(Yr,Object):Ga,vt=ba;(fn&&vt(new fn(new ArrayBuffer(1)))!=be||Xt&&vt(new Xt)!=g||hn&&vt(hn.resolve())!=k||pn&&vt(new pn)!=P||dn&&vt(new dn)!=Qt)&&(vt=function(u){var f=ke.call(u),d=f==v?u.constructor:void 0,m=d?Tt(d):void 0;if(m)switch(m){case Go:return be;case Jo:return g;case Wo:return k;case Yo:return P;case jo:return Qt}return f});function Va(u){var f=u.length,d=u.constructor(f);return f&&typeof u[0]=="string"&&ct.call(u,"index")&&(d.index=u.index,d.input=u.input),d}function Ra(u){return typeof u.constructor=="function"&&!ei(u)?Ta($o(u)):{}}function Fa(u,f,d,m){var E=u.constructor;switch(f){case Er:return mn(u);case a:case c:return new E(+u);case be:return _a(u,m);case Nr:case Pr:case Ar:case Or:case Mr:case Vr:case Rr:case Fr:case Ur:return Pa(u,m);case g:return xa(u,m,d);case I:case w:return new E(u);case mt:return Ca(u);case P:return Ea(u,m,d);case ye:return Na(u)}}function Ua(u,f){return f=f??i,!!f&&(typeof u=="number"||Co.test(u))&&u>-1&&u%1==0&&u<f}function Ba(u){var f=typeof u;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?u!=="__proto__":u===null}function Da(u){return!!zr&&zr in u}function ei(u){var f=u&&u.constructor,d=typeof f=="function"&&f.prototype||we;return u===d}function Tt(u){if(u!=null){try{return Kr.call(u)}catch{}try{return u+""}catch{}}return""}function $a(u){return gn(u,!0,!0)}function ni(u,f){return u===f||u!==u&&f!==f}function La(u){return Ha(u)&&ct.call(u,"callee")&&(!Ho.call(u,"callee")||ke.call(u)==s)}var In=Array.isArray;function ri(u){return u!=null&&za(u.length)&&!ii(u)}function Ha(u){return Ka(u)&&ri(u)}var qa=zo||Ja;function ii(u){var f=xe(u)?ke.call(u):"";return f==p||f==h}function za(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=i}function xe(u){var f=typeof u;return!!u&&(f=="object"||f=="function")}function Ka(u){return!!u&&typeof u=="object"}function vn(u){return ri(u)?Ia(u):ka(u)}function Ga(){return[]}function Ja(){return!1}t.exports=$a})(Rn,Rn.exports);const yi=Rn.exports;class ne{ticks;bpm;time;constructor({ticks:e,bpm:n,time:r}){this.ticks=e,this.bpm=n,this.time=r}getTicks(){return this.ticks}getBpm(){return this.bpm}setBpmInternal(e){this.bpm=e}getTime(){return this.time}setTimeInternal(e){this.time=e}}class Fn{ticks;numerator;denominator;constructor({ticks:e,numerator:n,denominator:r}){this.ticks=e,this.numerator=n,this.denominator=r}getTicks(){return this.ticks}setTicks(e){this.ticks=e}getNumerator(){return this.numerator}setNumerator(e){this.numerator=e}getDenominator(){return this.denominator}setDenominator(e){this.denominator=e}}function Oc(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}function ur(t){if(_(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=nt(r)?Rc(r):ur(r);if(i)for(const s in i)e[s]=i[s]}return e}else{if(nt(t))return t;if(q(t))return t}}const Mc=/;(?![^(]*\))/g,Vc=/:(.+)/;function Rc(t){const e={};return t.split(Mc).forEach(n=>{if(n){const r=n.split(Vc);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function cr(t){let e="";if(nt(t))e=t;else if(_(t))for(let n=0;n<t.length;n++){const r=cr(t[n]);r&&(e+=r+" ")}else if(q(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const J=process.env.NODE_ENV!=="production"?Object.freeze({}):{};process.env.NODE_ENV!=="production"&&Object.freeze([]);const lr=()=>{},Fc=()=>!1,Uc=/^on[^a-z]/,Bc=t=>Uc.test(t),et=Object.assign,Dc=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},$c=Object.prototype.hasOwnProperty,S=(t,e)=>$c.call(t,e),_=Array.isArray,zt=t=>en(t)==="[object Map]",Lc=t=>en(t)==="[object Set]",B=t=>typeof t=="function",nt=t=>typeof t=="string",fr=t=>typeof t=="symbol",q=t=>t!==null&&typeof t=="object",Hc=t=>q(t)&&B(t.then)&&B(t.catch),qc=Object.prototype.toString,en=t=>qc.call(t),Rs=t=>en(t).slice(8,-1),zc=t=>en(t)==="[object Object]",hr=t=>nt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Kc=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Oh=Kc(t=>t.charAt(0).toUpperCase()+t.slice(1)),ze=(t,e)=>!Object.is(t,e),Gc=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})};let bi;const Jc=()=>bi||(bi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function wi(t,...e){}let Wc;function Yc(t,e=Wc){e&&e.active&&e.effects.push(t)}const Un=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Fs=t=>(t.w&pt)>0,Us=t=>(t.n&pt)>0,jc=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=pt},Qc=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];Fs(i)&&!Us(i)?i.delete(t):e[n++]=i,i.w&=~pt,i.n&=~pt}e.length=n}},Bn=new WeakMap;let re=0,pt=1;const Dn=30;let L;const _t=Symbol(process.env.NODE_ENV!=="production"?"iterate":""),$n=Symbol(process.env.NODE_ENV!=="production"?"Map key iterate":"");class Xc{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Yc(this,r)}run(){if(!this.active)return this.fn();let e=L,n=xt;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=L,L=this,xt=!0,pt=1<<++re,re<=Dn?jc(this):ki(this),this.fn()}finally{re<=Dn&&Qc(this),pt=1<<--re,L=this.parent,xt=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){L===this?this.deferStop=!0:this.active&&(ki(this),this.onStop&&this.onStop(),this.active=!1)}}function ki(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let xt=!0;const Bs=[];function Ds(){Bs.push(xt),xt=!1}function $s(){const t=Bs.pop();xt=t===void 0?!0:t}function Z(t,e,n){if(xt&&L){let r=Bn.get(t);r||Bn.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=Un());const s=process.env.NODE_ENV!=="production"?{effect:L,target:t,type:e,key:n}:void 0;Zc(i,s)}}function Zc(t,e){let n=!1;re<=Dn?Us(t)||(t.n|=pt,n=!Fs(t)):n=!t.has(L),n&&(t.add(L),L.deps.push(t),process.env.NODE_ENV!=="production"&&L.onTrack&&L.onTrack(Object.assign({effect:L},e)))}function dt(t,e,n,r,i,s){const o=Bn.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&_(t))o.forEach((l,p)=>{(p==="length"||p>=r)&&a.push(l)});else switch(n!==void 0&&a.push(o.get(n)),e){case"add":_(t)?hr(n)&&a.push(o.get("length")):(a.push(o.get(_t)),zt(t)&&a.push(o.get($n)));break;case"delete":_(t)||(a.push(o.get(_t)),zt(t)&&a.push(o.get($n)));break;case"set":zt(t)&&a.push(o.get(_t));break}const c=process.env.NODE_ENV!=="production"?{target:t,type:e,key:n,newValue:r,oldValue:i,oldTarget:s}:void 0;if(a.length===1)a[0]&&(process.env.NODE_ENV!=="production"?Ee(a[0],c):Ee(a[0]));else{const l=[];for(const p of a)p&&l.push(...p);process.env.NODE_ENV!=="production"?Ee(Un(l),c):Ee(Un(l))}}function Ee(t,e){const n=_(t)?t:[...t];for(const r of n)r.computed&&Si(r,e);for(const r of n)r.computed||Si(r,e)}function Si(t,e){(t!==L||t.allowRecurse)&&(process.env.NODE_ENV!=="production"&&t.onTrigger&&t.onTrigger(et({effect:t},e)),t.scheduler?t.scheduler():t.run())}const tl=Oc("__proto__,__v_isRef,__isVue"),Ls=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(fr)),el=pr(),nl=pr(!0),rl=pr(!0,!0),_i=il();function il(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=y(this);for(let s=0,o=this.length;s<o;s++)Z(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(y)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Ds();const r=y(this)[e].apply(this,n);return $s(),r}}),t}function pr(t=!1,e=!1){return function(r,i,s){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&s===(t?e?Gs:Ks:e?yl:zs).get(r))return r;const o=_(r);if(!t&&o&&S(_i,i))return Reflect.get(_i,i,s);const a=Reflect.get(r,i,s);return(fr(i)?Ls.has(i):tl(i))||(t||Z(r,"get",i),e)?a:F(a)?o&&hr(i)?a:a.value:q(a)?t?Ws(a):Js(a):a}}const sl=ol();function ol(t=!1){return function(n,r,i,s){let o=n[r];if(Ot(o)&&F(o)&&!F(i))return!1;if(!t&&(!Ln(i)&&!Ot(i)&&(o=y(o),i=y(i)),!_(n)&&F(o)&&!F(i)))return o.value=i,!0;const a=_(n)&&hr(r)?Number(r)<n.length:S(n,r),c=Reflect.set(n,r,i,s);return n===y(s)&&(a?ze(i,o)&&dt(n,"set",r,i,o):dt(n,"add",r,i)),c}}function al(t,e){const n=S(t,e),r=t[e],i=Reflect.deleteProperty(t,e);return i&&n&&dt(t,"delete",e,void 0,r),i}function ul(t,e){const n=Reflect.has(t,e);return(!fr(e)||!Ls.has(e))&&Z(t,"has",e),n}function cl(t){return Z(t,"iterate",_(t)?"length":_t),Reflect.ownKeys(t)}const ll={get:el,set:sl,deleteProperty:al,has:ul,ownKeys:cl},Hs={get:nl,set(t,e){return process.env.NODE_ENV!=="production"&&wi(`Set operation on key "${String(e)}" failed: target is readonly.`,t),!0},deleteProperty(t,e){return process.env.NODE_ENV!=="production"&&wi(`Delete operation on key "${String(e)}" failed: target is readonly.`,t),!0}},fl=et({},Hs,{get:rl}),dr=t=>t,nn=t=>Reflect.getPrototypeOf(t);function Ne(t,e,n=!1,r=!1){t=t.__v_raw;const i=y(t),s=y(e);n||(e!==s&&Z(i,"get",e),Z(i,"get",s));const{has:o}=nn(i),a=r?dr:n?vr:Ir;if(o.call(i,e))return a(t.get(e));if(o.call(i,s))return a(t.get(s));t!==i&&t.get(e)}function Pe(t,e=!1){const n=this.__v_raw,r=y(n),i=y(t);return e||(t!==i&&Z(r,"has",t),Z(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function Ae(t,e=!1){return t=t.__v_raw,!e&&Z(y(t),"iterate",_t),Reflect.get(t,"size",t)}function xi(t){t=y(t);const e=y(this);return nn(e).has.call(e,t)||(e.add(t),dt(e,"add",t,t)),this}function Ci(t,e){e=y(e);const n=y(this),{has:r,get:i}=nn(n);let s=r.call(n,t);s?process.env.NODE_ENV!=="production"&&qs(n,r,t):(t=y(t),s=r.call(n,t));const o=i.call(n,t);return n.set(t,e),s?ze(e,o)&&dt(n,"set",t,e,o):dt(n,"add",t,e),this}function Ei(t){const e=y(this),{has:n,get:r}=nn(e);let i=n.call(e,t);i?process.env.NODE_ENV!=="production"&&qs(e,n,t):(t=y(t),i=n.call(e,t));const s=r?r.call(e,t):void 0,o=e.delete(t);return i&&dt(e,"delete",t,void 0,s),o}function Ni(){const t=y(this),e=t.size!==0,n=process.env.NODE_ENV!=="production"?zt(t)?new Map(t):new Set(t):void 0,r=t.clear();return e&&dt(t,"clear",void 0,void 0,n),r}function Oe(t,e){return function(r,i){const s=this,o=s.__v_raw,a=y(o),c=e?dr:t?vr:Ir;return!t&&Z(a,"iterate",_t),o.forEach((l,p)=>r.call(i,c(l),c(p),s))}}function Me(t,e,n){return function(...r){const i=this.__v_raw,s=y(i),o=zt(s),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,l=i[t](...r),p=n?dr:e?vr:Ir;return!e&&Z(s,"iterate",c?$n:_t),{next(){const{value:h,done:g}=l.next();return g?{value:h,done:g}:{value:a?[p(h[0]),p(h[1])]:p(h),done:g}},[Symbol.iterator](){return this}}}}function lt(t){return function(...e){if(process.env.NODE_ENV!=="production"){const n=e[0]?`on key "${e[0]}" `:""}return t==="delete"?!1:this}}function hl(){const t={get(s){return Ne(this,s)},get size(){return Ae(this)},has:Pe,add:xi,set:Ci,delete:Ei,clear:Ni,forEach:Oe(!1,!1)},e={get(s){return Ne(this,s,!1,!0)},get size(){return Ae(this)},has:Pe,add:xi,set:Ci,delete:Ei,clear:Ni,forEach:Oe(!1,!0)},n={get(s){return Ne(this,s,!0)},get size(){return Ae(this,!0)},has(s){return Pe.call(this,s,!0)},add:lt("add"),set:lt("set"),delete:lt("delete"),clear:lt("clear"),forEach:Oe(!0,!1)},r={get(s){return Ne(this,s,!0,!0)},get size(){return Ae(this,!0)},has(s){return Pe.call(this,s,!0)},add:lt("add"),set:lt("set"),delete:lt("delete"),clear:lt("clear"),forEach:Oe(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Me(s,!1,!1),n[s]=Me(s,!0,!1),e[s]=Me(s,!1,!0),r[s]=Me(s,!0,!0)}),[t,n,e,r]}const[pl,dl,gl,ml]=hl();function gr(t,e){const n=e?t?ml:gl:t?dl:pl;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(S(n,i)&&i in r?n:r,i,s)}const Il={get:gr(!1,!1)},vl={get:gr(!0,!1)},Tl={get:gr(!0,!0)};function qs(t,e,n){const r=y(n);if(r!==n&&e.call(t,r)){const i=Rs(t)}}const zs=new WeakMap,yl=new WeakMap,Ks=new WeakMap,Gs=new WeakMap;function bl(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function wl(t){return t.__v_skip||!Object.isExtensible(t)?0:bl(Rs(t))}function Js(t){return Ot(t)?t:mr(t,!1,ll,Il,zs)}function Ws(t){return mr(t,!0,Hs,vl,Ks)}function Ve(t){return mr(t,!0,fl,Tl,Gs)}function mr(t,e,n,r,i){if(!q(t))return process.env.NODE_ENV,t;if(t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=wl(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function Ct(t){return Ot(t)?Ct(t.__v_raw):!!(t&&t.__v_isReactive)}function Ot(t){return!!(t&&t.__v_isReadonly)}function Ln(t){return!!(t&&t.__v_isShallow)}function Ke(t){return Ct(t)||Ot(t)}function y(t){const e=t&&t.__v_raw;return e?y(e):t}function kl(t){return Gc(t,"__v_skip",!0),t}const Ir=t=>q(t)?Js(t):t,vr=t=>q(t)?Ws(t):t;function F(t){return!!(t&&t.__v_isRef===!0)}function Sl(t){return F(t)?t.value:t}const _l={get:(t,e,n)=>Sl(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return F(i)&&!F(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function xl(t){return Ct(t)?t:new Proxy(t,_l)}const Et=[];function Cl(t){Et.push(t)}function El(){Et.pop()}function H(t,...e){Ds();const n=Et.length?Et[Et.length-1].component:null,r=n&&n.appContext.config.warnHandler,i=Nl();if(r)Nt(r,n,11,[t+e.join(""),n&&n.proxy,i.map(({vnode:s})=>`at <${co(n,s.type)}>`).join(`
`),i]);else{const s=[`[Vue warn]: ${t}`,...e];i.length&&s.push(`
`,...Pl(i))}$s()}function Nl(){let t=Et[Et.length-1];if(!t)return[];const e=[];for(;t;){const n=e[0];n&&n.vnode===t?n.recurseCount++:e.push({vnode:t,recurseCount:0});const r=t.component&&t.component.parent;t=r&&r.vnode}return e}function Pl(t){const e=[];return t.forEach((n,r)=>{e.push(...r===0?[]:[`
`],...Al(n))}),e}function Al({vnode:t,recurseCount:e}){const n=e>0?`... (${e} recursive calls)`:"",r=t.component?t.component.parent==null:!1,i=` at <${co(t.component,t.type,r)}`,s=">"+n;return t.props?[i,...Ol(t.props),s]:[i+s]}function Ol(t){const e=[],n=Object.keys(t);return n.slice(0,3).forEach(r=>{e.push(...Ys(r,t[r]))}),n.length>3&&e.push(" ..."),e}function Ys(t,e,n){return nt(e)?(e=JSON.stringify(e),n?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?n?e:[`${t}=${e}`]:F(e)?(e=Ys(t,y(e.value),!0),n?e:[`${t}=Ref<`,e,">"]):B(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=y(e),n?e:[`${t}=`,e])}const js={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",[0]:"setup function",[1]:"render function",[2]:"watcher getter",[3]:"watcher callback",[4]:"watcher cleanup function",[5]:"native event handler",[6]:"component event handler",[7]:"vnode hook",[8]:"directive hook",[9]:"transition hook",[10]:"app errorHandler",[11]:"app warnHandler",[12]:"ref function",[13]:"async component loader",[14]:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/core"};function Nt(t,e,n,r){let i;try{i=r?t(...r):t()}catch(s){Qs(s,e,n)}return i}function Hn(t,e,n,r){if(B(t)){const s=Nt(t,e,n,r);return s&&Hc(s)&&s.catch(o=>{Qs(o,e,n)}),s}const i=[];for(let s=0;s<t.length;s++)i.push(Hn(t[s],e,n,r));return i}function Qs(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=process.env.NODE_ENV!=="production"?js[n]:n;for(;s;){const l=s.ec;if(l){for(let p=0;p<l.length;p++)if(l[p](t,o,a)===!1)return}s=s.parent}const c=e.appContext.config.errorHandler;if(c){Nt(c,null,10,[t,o,a]);return}}Ml(t,n,i,r)}function Ml(t,e,n,r=!0){if(process.env.NODE_ENV!=="production"){const i=js[e];if(n&&Cl(n),H(`Unhandled error${i?` during execution of ${i}`:""}`),n&&El(),r)throw t}}let Ge=!1,qn=!1;const tt=[];let ht=0;const Kt=[];let rt=null,ft=0;const Xs=Promise.resolve();let Tr=null;const Vl=100;function Rl(t){const e=Tr||Xs;return t?e.then(this?t.bind(this):t):e}function Fl(t){let e=ht+1,n=tt.length;for(;e<n;){const r=e+n>>>1;le(tt[r])<t?e=r+1:n=r}return e}function yr(t){(!tt.length||!tt.includes(t,Ge&&t.allowRecurse?ht+1:ht))&&(t.id==null?tt.push(t):tt.splice(Fl(t.id),0,t),Zs())}function Zs(){!Ge&&!qn&&(qn=!0,Tr=Xs.then(eo))}function to(t){_(t)?Kt.push(...t):(!rt||!rt.includes(t,t.allowRecurse?ft+1:ft))&&Kt.push(t),Zs()}function Ul(t){if(Kt.length){const e=[...new Set(Kt)];if(Kt.length=0,rt){rt.push(...e);return}for(rt=e,process.env.NODE_ENV!=="production"&&(t=t||new Map),rt.sort((n,r)=>le(n)-le(r)),ft=0;ft<rt.length;ft++)process.env.NODE_ENV!=="production"&&no(t,rt[ft])||rt[ft]();rt=null,ft=0}}const le=t=>t.id==null?1/0:t.id,Bl=(t,e)=>{const n=le(t)-le(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function eo(t){qn=!1,Ge=!0,process.env.NODE_ENV!=="production"&&(t=t||new Map),tt.sort(Bl);const e=process.env.NODE_ENV!=="production"?n=>no(t,n):lr;try{for(ht=0;ht<tt.length;ht++){const n=tt[ht];if(n&&n.active!==!1){if(process.env.NODE_ENV!=="production"&&e(n))continue;Nt(n,null,14)}}}finally{ht=0,tt.length=0,Ul(t),Ge=!1,Tr=null,(tt.length||Kt.length)&&eo(t)}}function no(t,e){if(!t.has(e))t.set(e,1);else{const n=t.get(e);if(n>Vl){const r=e.ownerInstance,i=r&&uo(r.type);return H(`Maximum recursive updates exceeded${i?` in component <${i}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`),!0}else t.set(e,n+1)}}const ee=new Set;process.env.NODE_ENV!=="production"&&(Jc().__VUE_HMR_RUNTIME__={createRecord:kn(Dl),rerender:kn($l),reload:kn(Ll)});const Je=new Map;function Dl(t,e){return Je.has(t)?!1:(Je.set(t,{initialDef:ie(e),instances:new Set}),!0)}function ie(t){return lo(t)?t.__vccOpts:t}function $l(t,e){const n=Je.get(t);!n||(n.initialDef.render=e,[...n.instances].forEach(r=>{e&&(r.render=e,ie(r.type).render=e),r.renderCache=[],r.update()}))}function Ll(t,e){const n=Je.get(t);if(!n)return;e=ie(e),Pi(n.initialDef,e);const r=[...n.instances];for(const i of r){const s=ie(i.type);ee.has(s)||(s!==n.initialDef&&Pi(s,e),ee.add(s)),i.appContext.optionsCache.delete(i.type),i.ceReload?(ee.add(s),i.ceReload(e.styles),ee.delete(s)):i.parent?(yr(i.parent.update),i.parent.type.__asyncLoader&&i.parent.ceReload&&i.parent.ceReload(e.styles)):i.appContext.reload?i.appContext.reload():typeof window<"u"&&window.location.reload()}to(()=>{for(const i of r)ee.delete(ie(i.type))})}function Pi(t,e){et(t,e);for(const n in t)n!=="__file"&&!(n in e)&&delete t[n]}function kn(t){return(e,n)=>{try{return t(e,n)}catch{}}}let kt=null,Hl=null;const ql=t=>t.__isSuspense;function zl(t,e){e&&e.pendingBranch?_(t)?e.effects.push(...t):e.effects.push(t):to(t)}const Ai={};function Kl(t,e,{immediate:n,deep:r,flush:i,onTrack:s,onTrigger:o}=J){process.env.NODE_ENV!=="production"&&!e&&(n!==void 0&&H('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),r!==void 0&&H('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'));const a=w=>{H("Invalid watch source: ",w,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},c=Gt;let l,p=!1,h=!1;if(F(t)?(l=()=>t.value,p=Ln(t)):Ct(t)?(l=()=>t,r=!0):_(t)?(h=!0,p=t.some(w=>Ct(w)||Ln(w)),l=()=>t.map(w=>{if(F(w))return w.value;if(Ct(w))return Lt(w);if(B(w))return Nt(w,c,2);process.env.NODE_ENV!=="production"&&a(w)})):B(t)?e?l=()=>Nt(t,c,2):l=()=>{if(!(c&&c.isUnmounted))return g&&g(),Hn(t,c,3,[I])}:(l=lr,process.env.NODE_ENV!=="production"&&a(t)),e&&r){const w=l;l=()=>Lt(w())}let g,I=w=>{g=P.onStop=()=>{Nt(w,c,4)}},v=h?[]:Ai;const k=()=>{if(!!P.active)if(e){const w=P.run();(r||p||(h?w.some((ye,Qt)=>ze(ye,v[Qt])):ze(w,v)))&&(g&&g(),Hn(e,c,3,[w,v===Ai?void 0:v,I]),v=w)}else P.run()};k.allowRecurse=!!e;let mt;i==="sync"?mt=k:i==="post"?mt=()=>Vi(k,c&&c.suspense):(k.pre=!0,c&&(k.id=c.uid),mt=()=>yr(k));const P=new Xc(l,mt);return process.env.NODE_ENV!=="production"&&(P.onTrack=s,P.onTrigger=o),e?n?k():v=P.run():i==="post"?Vi(P.run.bind(P),c&&c.suspense):P.run(),()=>{P.stop(),c&&c.scope&&Dc(c.scope.effects,P)}}function Gl(t,e,n){const r=this.proxy,i=nt(t)?t.includes(".")?Jl(r,t):()=>r[t]:t.bind(r,r);let s;B(e)?s=e:(s=e.handler,n=e);const o=Gt;Ri(this);const a=Kl(i,s.bind(r),n);return o?Ri(o):df(),a}function Jl(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Lt(t,e){if(!q(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),F(t))Lt(t.value,e);else if(_(t))for(let n=0;n<t.length;n++)Lt(t[n],e);else if(Lc(t)||zt(t))t.forEach(n=>{Lt(n,e)});else if(zc(t))for(const n in t)Lt(t[n],e);return t}const Wl=Symbol(),zn=t=>t?gf(t)?mf(t)||t.proxy:zn(t.parent):null,We=et(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>process.env.NODE_ENV!=="production"?Ve(t.props):t.props,$attrs:t=>process.env.NODE_ENV!=="production"?Ve(t.attrs):t.attrs,$slots:t=>process.env.NODE_ENV!=="production"?Ve(t.slots):t.slots,$refs:t=>process.env.NODE_ENV!=="production"?Ve(t.refs):t.refs,$parent:t=>zn(t.parent),$root:t=>zn(t.root),$emit:t=>t.emit,$options:t=>__VUE_OPTIONS_API__?Xl(t):t.type,$forceUpdate:t=>t.f||(t.f=()=>yr(t.update)),$nextTick:t=>t.n||(t.n=Rl.bind(t.proxy)),$watch:t=>__VUE_OPTIONS_API__?Gl.bind(t):lr}),Yl=t=>t==="_"||t==="$",jl={get({_:t},e){const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:c}=t;if(process.env.NODE_ENV!=="production"&&e==="__isVue")return!0;if(process.env.NODE_ENV!=="production"&&r!==J&&r.__isScriptSetup&&S(r,e))return r[e];let l;if(e[0]!=="$"){const I=o[e];if(I!==void 0)switch(I){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(r!==J&&S(r,e))return o[e]=1,r[e];if(i!==J&&S(i,e))return o[e]=2,i[e];if((l=t.propsOptions[0])&&S(l,e))return o[e]=3,s[e];if(n!==J&&S(n,e))return o[e]=4,n[e];(!__VUE_OPTIONS_API__||Ql)&&(o[e]=0)}}const p=We[e];let h,g;if(p)return e==="$attrs"&&(Z(t,"get",e),process.env.NODE_ENV!=="production"&&void 0),p(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==J&&S(n,e))return o[e]=4,n[e];if(g=c.config.globalProperties,S(g,e))return g[e];process.env.NODE_ENV!=="production"&&kt&&(!nt(e)||e.indexOf("__v")!==0)&&(i!==J&&Yl(e[0])&&S(i,e)?H(`Property ${JSON.stringify(e)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):t===kt&&H(`Property ${JSON.stringify(e)} was accessed during render but is not defined on instance.`))},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return i!==J&&S(i,e)?(i[e]=n,!0):r!==J&&S(r,e)?(r[e]=n,!0):S(t.props,e)?(process.env.NODE_ENV!=="production"&&H(`Attempting to mutate prop "${e}". Props are readonly.`,t),!1):e[0]==="$"&&e.slice(1)in t?(process.env.NODE_ENV!=="production"&&H(`Attempting to mutate public property "${e}". Properties starting with $ are reserved and readonly.`,t),!1):(process.env.NODE_ENV!=="production"&&e in t.appContext.config.globalProperties?Object.defineProperty(s,e,{enumerable:!0,configurable:!0,value:n}):s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==J&&S(t,o)||e!==J&&S(e,o)||(a=s[0])&&S(a,o)||S(r,o)||S(We,o)||S(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:S(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};process.env.NODE_ENV!=="production"&&(jl.ownKeys=t=>(H("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(t)));let Ql=!0;function Xl(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let c;return a?c=a:!i.length&&!n&&!r?c=e:(c={},i.length&&i.forEach(l=>Ye(c,l,o,!0)),Ye(c,e,o)),q(e)&&s.set(e,c),c}function Ye(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&Ye(t,s,n,!0),i&&i.forEach(o=>Ye(t,o,n,!0));for(const o in e)if(r&&o==="expose")process.env.NODE_ENV!=="production"&&H('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const a=Zl[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Zl={data:Oi,props:bt,emits:bt,methods:bt,computed:bt,beforeCreate:R,created:R,beforeMount:R,mounted:R,beforeUpdate:R,updated:R,beforeDestroy:R,beforeUnmount:R,destroyed:R,unmounted:R,activated:R,deactivated:R,errorCaptured:R,serverPrefetch:R,components:bt,directives:bt,watch:ef,provide:Oi,inject:tf};function Oi(t,e){return e?t?function(){return et(B(t)?t.call(this,this):t,B(e)?e.call(this,this):e)}:e:t}function tf(t,e){return bt(Mi(t),Mi(e))}function Mi(t){if(_(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function R(t,e){return t?[...new Set([].concat(t,e))]:e}function bt(t,e){return t?et(et(Object.create(null),t),e):e}function ef(t,e){if(!t)return e;if(!e)return t;const n=et(Object.create(null),t);for(const r in e)n[r]=R(t[r],e[r]);return n}function nf(){return{app:null,config:{isNativeTag:Fc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}const Vi=zl,rf=t=>t.__isTeleport,ro=Symbol(process.env.NODE_ENV!=="production"?"Fragment":void 0),sf=Symbol(process.env.NODE_ENV!=="production"?"Text":void 0),of=Symbol(process.env.NODE_ENV!=="production"?"Comment":void 0);Symbol(process.env.NODE_ENV!=="production"?"Static":void 0);let Ht=null;function af(t){return t?t.__v_isVNode===!0:!1}const uf=(...t)=>oo(...t),io="__vInternal",so=({key:t})=>t??null,De=({ref:t,ref_key:e,ref_for:n})=>t!=null?nt(t)||F(t)||B(t)?{i:kt,r:t,k:e,f:!!n}:t:null;function cf(t,e=null,n=null,r=0,i=null,s=t===ro?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&so(e),ref:e&&De(e),scopeId:Hl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null};return a?(br(c,n),s&128&&t.normalize(c)):n&&(c.shapeFlag|=nt(n)?8:16),process.env.NODE_ENV!=="production"&&c.key!==c.key&&H("VNode created with invalid key (NaN). VNode type:",c.type),!o&&Ht&&(c.patchFlag>0||s&6)&&c.patchFlag!==32&&Ht.push(c),c}const lf=process.env.NODE_ENV!=="production"?uf:oo;function oo(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===Wl)&&(process.env.NODE_ENV!=="production"&&!t&&H(`Invalid vnode type when creating vnode: ${t}.`),t=of),af(t)){const a=je(t,e,!0);return n&&br(a,n),!s&&Ht&&(a.shapeFlag&6?Ht[Ht.indexOf(t)]=a:Ht.push(a)),a.patchFlag|=-2,a}if(lo(t)&&(t=t.__vccOpts),e){e=ff(e);let{class:a,style:c}=e;a&&!nt(a)&&(e.class=cr(a)),q(c)&&(Ke(c)&&!_(c)&&(c=et({},c)),e.style=ur(c))}const o=nt(t)?1:ql(t)?128:rf(t)?64:q(t)?4:B(t)?2:0;return process.env.NODE_ENV!=="production"&&o&4&&Ke(t)&&(t=y(t),H("Vue received a Component which was made a reactive object. This can lead to unnecessary performance overhead, and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,t)),cf(t,e,n,r,i,o,s,!0)}function ff(t){return t?Ke(t)||io in t?et({},t):t:null}function je(t,e,n=!1){const{props:r,ref:i,patchFlag:s,children:o}=t,a=e?pf(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&so(a),ref:e&&e.ref?n&&i?_(i)?i.concat(De(e)):[i,De(e)]:De(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:process.env.NODE_ENV!=="production"&&s===-1&&_(o)?o.map(ao):o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ro?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&je(t.ssContent),ssFallback:t.ssFallback&&je(t.ssFallback),el:t.el,anchor:t.anchor}}function ao(t){const e=je(t);return _(t.children)&&(e.children=t.children.map(ao)),e}function hf(t=" ",e=0){return lf(sf,null,t,e)}function br(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(_(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),br(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(io in e)?e._ctx=kt:i===3&&kt&&(kt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else B(e)?(e={default:e,_ctx:kt},n=32):(e=String(e),r&64?(n=16,e=[hf(e)]):n=8);t.children=e,t.shapeFlag|=n}function pf(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=cr([e.class,r.class]));else if(i==="style")e.style=ur([e.style,r.style]);else if(Bc(i)){const s=e[i],o=r[i];o&&s!==o&&!(_(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}nf();let Gt=null;const Ri=t=>{Gt=t,t.scope.on()},df=()=>{Gt&&Gt.scope.off(),Gt=null};function gf(t){return t.vnode.shapeFlag&4}function mf(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(xl(kl(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in We)return We[n](t)}}))}const If=/(?:^|[-_])(\w)/g,vf=t=>t.replace(If,e=>e.toUpperCase()).replace(/[-_]/g,"");function uo(t,e=!0){return B(t)?t.displayName||t.name:t.name||e&&t.__name}function co(t,e,n=!1){let r=uo(e);if(!r&&e.__file){const i=e.__file.match(/([^/\\]+)\.\w+$/);i&&(r=i[1])}if(!r&&t&&t.parent){const i=s=>{for(const o in s)if(s[o]===e)return o};r=i(t.components||t.parent.type.components)||i(t.appContext.components)}return r?vf(r):n?"App":"Anonymous"}function lo(t){return B(t)&&"__vccOpts"in t}Symbol(process.env.NODE_ENV!=="production"?"ssrContext":"");function Sn(t){return!!(t&&t.__v_isShallow)}function Tf(){if(process.env.NODE_ENV==="production"||typeof window>"u")return;const t={style:"color:#3ba776"},e={style:"color:#0b1bc9"},n={style:"color:#b62e24"},r={style:"color:#9d288c"},i={header(h){return q(h)?h.__isVue?["div",t,"VueInstance"]:F(h)?["div",{},["span",t,p(h)],"<",a(h.value),">"]:Ct(h)?["div",{},["span",t,Sn(h)?"ShallowReactive":"Reactive"],"<",a(h),`>${Ot(h)?" (readonly)":""}`]:Ot(h)?["div",{},["span",t,Sn(h)?"ShallowReadonly":"Readonly"],"<",a(h),">"]:null:null},hasBody(h){return h&&h.__isVue},body(h){if(h&&h.__isVue)return["div",{},...s(h.$)]}};function s(h){const g=[];h.type.props&&h.props&&g.push(o("props",y(h.props))),h.setupState!==J&&g.push(o("setup",h.setupState)),h.data!==J&&g.push(o("data",y(h.data)));const I=c(h,"computed");I&&g.push(o("computed",I));const v=c(h,"inject");return v&&g.push(o("injected",v)),g.push(["div",{},["span",{style:r.style+";opacity:0.66"},"$ (internal): "],["object",{object:h}]]),g}function o(h,g){return g=et({},g),Object.keys(g).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},h],["div",{style:"padding-left:1.25em"},...Object.keys(g).map(I=>["div",{},["span",r,I+": "],a(g[I],!1)])]]:["span",{}]}function a(h,g=!0){return typeof h=="number"?["span",e,h]:typeof h=="string"?["span",n,JSON.stringify(h)]:typeof h=="boolean"?["span",r,h]:q(h)?["object",{object:g?y(h):h}]:["span",n,String(h)]}function c(h,g){const I=h.type;if(B(I))return;const v={};for(const k in h.ctx)l(I,k,g)&&(v[k]=h.ctx[k]);return v}function l(h,g,I){const v=h[I];if(_(v)&&v.includes(g)||q(v)&&g in v||h.extends&&l(h.extends,g,I)||h.mixins&&h.mixins.some(k=>l(k,g,I)))return!0}function p(h){return Sn(h)?"ShallowRef":h.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(i):window.devtoolsFormatters=[i]}function yf(){Tf()}process.env.NODE_ENV!=="production"&&yf();function bf(t){const e=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],n=t%12;return e[n]}function wf(t){const e=Math.floor(t/12)-2;return bf(t)+e.toString()}const kf=/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,Sf={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13};function _f(t){const e=kf.exec(t);if(!e)return-1;const n=e[1],r=e[2];return Sf[n.toLowerCase()]+(parseInt(r,10)+2)*12}function Kn(t,e,n,r){return`${t} // ${e} // ${n} // ${r}`}function fo(t,e,n){return`${t} // ${e} // ${n}`}function xf(t){const e=fe(t);return fo(e.manufacturerName,e.pluginFormatName,e.name)}function fe(t){const e=t.split(" // ");if(e.length<4)throw new Error("Invalid audio plugin tuneflow id.");return{name:e[2],manufacturerName:e[0],pluginFormatName:e[1],pluginVersion:e[3]}}function ho(t,e){return t===e}function po(t,e){const n=fe(t),r=fe(e);if(N.keys(n).length!==N.keys(r).length)return!1;for(const i of N.keys(n))if(i!=="pluginVersion"&&n[i]!==r[i])return!1;return!0}class Cf{tempoInfos=[];currentTempoIndex=0;ticksPerSecondAtTempoTick={};constructor(e,n){for(const r of e)this.tempoInfos.push({ticks:r.getTicks(),time:r.getTime()}),this.ticksPerSecondAtTempoTick[r.getTicks()]=r.getBpm()*n/60}secondsToTick(e){let n=this.tempoInfos[this.currentTempoIndex];for(;this.tempoInfos[this.currentTempoIndex+1]&&this.tempoInfos[this.currentTempoIndex+1].time<=e;)this.currentTempoIndex+=1,n=this.tempoInfos[this.currentTempoIndex];for(;n.time>e&&this.currentTempoIndex>0;)this.currentTempoIndex-=1,n=this.tempoInfos[this.currentTempoIndex];n.time>e&&(n=this.tempoInfos[0]);const r=e-n.time,i=this.ticksPerSecondAtTempoTick[n.ticks];return Math.round(n.ticks+r*i)}tickToSeconds(e){let n=this.tempoInfos[this.currentTempoIndex];for(;this.tempoInfos[this.currentTempoIndex+1]&&this.tempoInfos[this.currentTempoIndex+1].ticks<=e;)this.currentTempoIndex+=1,n=this.tempoInfos[this.currentTempoIndex];for(;n.ticks>e&&this.currentTempoIndex>0;)this.currentTempoIndex-=1,n=this.tempoInfos[this.currentTempoIndex];n.ticks>e&&(n=this.tempoInfos[0]);const r=e-n.ticks,i=this.ticksPerSecondAtTempoTick[n.ticks];return n.time+r/i}}function go(t){return t>-100?Math.exp((t-6)*(1/20)):0}function Ef(t){return t<=0?-100:20*Math.log10(t)}function Nf(t){return t>0?20*Math.log(t)+6:-100}function Pf(t){return t>0?Math.pow(10,(20*Math.log(t)+6)*(1/20)):0}function Af(t){return t>0?Math.exp((20*Math.log10(t)-6)*(1/20)):0}function Of(t,e,n,r,i){return(t-e)/(n-e)*(i-r)+r}function Mf(t){return 440*Math.pow(2,(t-69)/12)}function Vf(t){return Ke(t)||F(t)?y(t):t}var mo=(t=>(t[t.BassDrum2=35]="BassDrum2",t[t.BassDrum1=36]="BassDrum1",t[t.SideStick=37]="SideStick",t[t.SnareDrum1=38]="SnareDrum1",t[t.HandClap=39]="HandClap",t[t.SnareDrum2=40]="SnareDrum2",t[t.LowTom2=41]="LowTom2",t[t.ClosedHiHat=42]="ClosedHiHat",t[t.LowTom1=43]="LowTom1",t[t.PedalHiHat=44]="PedalHiHat",t[t.MidTom2=45]="MidTom2",t[t.OpenHiHat=46]="OpenHiHat",t[t.MidTom1=47]="MidTom1",t[t.HighTom2=48]="HighTom2",t[t.CrashCymbal1=49]="CrashCymbal1",t[t.HighTom1=50]="HighTom1",t[t.RideCymbal1=51]="RideCymbal1",t[t.ChineseCymbal=52]="ChineseCymbal",t[t.RideBell=53]="RideBell",t[t.Tambourine=54]="Tambourine",t[t.SplashCymbal=55]="SplashCymbal",t[t.Cowbell=56]="Cowbell",t[t.CrashCymbal2=57]="CrashCymbal2",t[t.VibraSlap=58]="VibraSlap",t[t.RideCymbal2=59]="RideCymbal2",t[t.HighBongo=60]="HighBongo",t[t.LowBongo=61]="LowBongo",t[t.MuteHighConga=62]="MuteHighConga",t[t.OpenHighConga=63]="OpenHighConga",t[t.LowConga=64]="LowConga",t[t.HighTimbale=65]="HighTimbale",t[t.LowTimbale=66]="LowTimbale",t[t.HighAgogo=67]="HighAgogo",t[t.LowAgogo=68]="LowAgogo",t[t.Cabasa=69]="Cabasa",t[t.Maracas=70]="Maracas",t[t.ShortWhistle=71]="ShortWhistle",t[t.LongWhistle=72]="LongWhistle",t[t.ShortGuiro=73]="ShortGuiro",t[t.LongGuiro=74]="LongGuiro",t[t.Claves=75]="Claves",t[t.HighWoodBlock=76]="HighWoodBlock",t[t.LowWoodBlock=77]="LowWoodBlock",t[t.MuteCuica=78]="MuteCuica",t[t.OpenCuica=79]="OpenCuica",t[t.MuteTriangle=80]="MuteTriangle",t[t.OpenTriangle=81]="OpenTriangle",t[t.Shaker=82]="Shaker",t))(mo||{});class me{name;manufacturerName;pluginFormatName;pluginVersion;isEnabled=!0;localInstanceIdInternal;base64StatesInternal;constructor(e,n,r,i){this.name=e,this.manufacturerName=n,this.pluginFormatName=r,this.pluginVersion=i,this.localInstanceIdInternal=me.generateAudioPluginInstanceIdInternal()}getTuneflowId(){return Kn(this.manufacturerName,this.pluginFormatName,this.name,this.pluginVersion)}clone(e){const n=e.createAudioPlugin(this.getTuneflowId());return n.setIsEnabled(this.isEnabled),n}matchesTfId(e){return ho(e,this.getTuneflowId())}matchesTfIdIgnoreVersion(e){return po(e,this.getTuneflowId())}getInstanceId(){return this.localInstanceIdInternal}toJSON(){return{name:this.name,manufacturerName:this.manufacturerName,pluginFormatName:this.pluginFormatName,pluginVersion:this.pluginVersion,isEnabled:this.isEnabled}}setIsEnabled(e){this.isEnabled=e}getIsEnabled(){return this.isEnabled}setBase64States(e){this.base64StatesInternal=e}getBase64States(){return this.base64StatesInternal}static generateAudioPluginInstanceIdInternal(){return tn(10)}static DEFAULT_SYNTH_TFID=Kn("TuneFlow","VST3","TFSynth","1.0.0")}class ot{pitch;velocity;startTick;endTick;idInternal;clipInternal;constructor({pitch:e,velocity:n,startTick:r,endTick:i,id:s,clip:o}){this.pitch=e,this.velocity=n,this.startTick=r,this.endTick=i,this.idInternal=s,this.clipInternal=o}getPitch(){return this.pitch}setPitch(e){if(!ot.isValidPitch(e))throw new Error(`Invalid pitch ${e}`);this.pitch=e}getVelocity(){return this.velocity}setVelocity(e){this.velocity=Math.max(Math.min(e,127),0)}getStartTick(){return this.startTick}getEndTick(){return this.endTick}setStartTick(e){this.startTick=e}setEndTick(e){this.endTick=e}equals(e){return this.startTick===e.getStartTick()&&this.endTick===e.getEndTick()&&this.pitch===e.getPitch()&&this.velocity===e.getVelocity()}deleteFromParent(){!this.clipInternal||this.clipInternal.deleteNote(this)}moveNote(e){if(e===0)return;const n=this.clipInternal;n&&n.deleteNote(this),this.startTick=Math.max(0,this.startTick+e),this.endTick=this.endTick+e,!!this.isRangeValid()&&n&&n.orderedInsertNote(n.getRawNotes(),this)}adjustLeft(e){if(e===0)return;const n=this.clipInternal;n&&n.deleteNote(this),this.startTick+=e,!!this.isRangeValid()&&n&&n.orderedInsertNote(n.getRawNotes(),this)}adjustLeftTo(e){this.adjustLeft(e-this.startTick)}adjustRight(e){this.endTick+=e,this.isRangeValid()||this.deleteFromParent()}adjustRightTo(e){this.adjustRight(e-this.endTick)}isRangeValid(){return ot.isNoteRangeValid(this.startTick,this.endTick)}static isValidPitch(e){return e>=0&&e<=127&&Number.isInteger(e)}static isNoteRangeValid(e,n){return n>=0&&e<=n&&Number.isInteger(e)&&Number.isInteger(n)}static isNoteVelocityValid(e){return e>=0&&e<=127&&Number.isInteger(e)}getClip(){return this.clipInternal}adjustPitch(e){this.pitch=this.pitch+e,ot.isValidPitch(this.pitch)||this.deleteFromParent()}getId(){return this.idInternal}}var qt=(t=>(t[t.MIDI_CLIP=1]="MIDI_CLIP",t[t.AUDIO_CLIP=2]="AUDIO_CLIP",t))(qt||{});class Y{song;track;id;notes;clipStartTick=0;clipEndTick=0;nextNoteIdInternal=1;type;audioClipData;constructor({song:e,type:n,clipStartTick:r,id:i=Y.generateClipIdInternal(),track:s=void 0,clipEndTick:o=void 0,audioClipData:a=void 0}){if(this.song=e,this.track=s,this.id=i,this.type=n,this.notes=[],n===2){if(!a)throw new Error("Audio clip data must be provided for audio clips.");this.audioClipData={audioFilePath:a.audioFilePath,startTick:a.startTick,duration:a.duration},r=N.isNumber(r)?Math.max(r,a.startTick):a.startTick;const c=this.getAudioEndTick();(!N.isNumber(o)||c<o)&&(o=c),this.clipStartTick=r,this.clipEndTick=o}else if(n===1){if(this.clipStartTick=r,!N.isNumber(o))throw new Error("clip end tick must be provided when creating MIDI clip.");this.clipEndTick=o}}getId(){return this.id}getType(){return this.type}getAudioClipData(){return this.audioClipData}setAudioFile(e,n,r){this.audioClipData?(this.audioClipData.audioFilePath=e,this.audioClipData.startTick=n,this.audioClipData.duration=r):this.audioClipData={audioFilePath:e,startTick:n,duration:r}}getNotes(){return Y.getNotesInRange(this.notes,this.clipStartTick,this.clipEndTick)}getRawNotes(){return this.notes}getDuration(){return this.song.tickToSeconds(this.clipEndTick)-this.song.tickToSeconds(this.clipStartTick)}getAudioDuration(){if(!(this.type!==2||!this.audioClipData))return this.audioClipData.duration}getClipStartTick(){return this.clipStartTick}getClipEndTick(){return this.clipEndTick}getTrack(){return this.track}createNote({pitch:e,velocity:n,startTick:r,endTick:i,updateClipRange:s=!0,resolveClipConflict:o=!0}){if(this.type!==1||!ot.isValidPitch(e)||!ot.isNoteRangeValid(r,i)||!ot.isNoteVelocityValid(n))return null;const a=new ot({pitch:e,velocity:n,startTick:r,endTick:i,id:this.getNextNoteIdInternal()});return r<this.clipStartTick&&s&&this.adjustClipLeft(r,o),i>this.clipEndTick&&s&&this.adjustClipRight(i,o),this.orderedInsertNote(this.notes,a),a}getNoteIndexInternal(e){const n=O.lt(this.notes,e,(r,i)=>r.getStartTick()-i.getStartTick());for(let r=Math.max(0,n);r<this.notes.length;r+=1){const i=this.notes[r];if(i&&i===e)return r;if(i&&i.getStartTick()>e.getStartTick())break}return-1}deleteNote(e){const n=this.getNoteIndexInternal(e);n>=0&&this.deleteNoteAt(n)}deleteNoteAt(e){const n=this.notes[e];n&&(n.clipInternal=null,this.notes.splice(e,1))}orderedInsertNote(e,n){if(this.type!==1||n.getClip()===this)return;const r=O.ge(e,n,(i,s)=>i.getStartTick()-s.getStartTick());r<0?e.push(n):e.splice(r,0,n),n.clipInternal=this}adjustClipLeft(e,n=!0){e=Math.max(0,e),this.type===2&&this.audioClipData&&(e=Math.max(e,this.audioClipData.startTick)),e>this.clipEndTick?this.deleteFromParent(!0):(n&&this.track&&this.track.resolveClipConflictInternal(this.getId(),Math.min(this.clipStartTick,e),this.clipEndTick),this.clipStartTick=e)}adjustClipRight(e,n=!0){if(this.type===2){const r=this.getAudioEndTick();N.isNumber(r)&&(e=Math.min(e,r))}e<this.clipStartTick||e<0?this.deleteFromParent(!0):(n&&this.track&&this.track.resolveClipConflictInternal(this.getId(),this.clipStartTick,Math.max(this.clipEndTick,e)),this.clipEndTick=e)}moveClip(e,n){const r=Math.max(0,this.clipStartTick+e),i=this.clipEndTick+e;if(i<0){this.deleteFromParent(!0);return}if(this.track&&this.track.resolveClipConflictInternal(this.getId(),r,i),this.track){const a=this.track.getClipIndex(this);this.track.deleteClipAt(a,!1)}const s=this.clipStartTick,o=this.clipEndTick;if(this.type===1){this.clipStartTick=r,this.clipEndTick=i;for(const a of this.notes)a.setStartTick(a.getStartTick()+e),a.setEndTick(a.getEndTick()+e)}else if(this.type===2){if(!this.audioClipData)throw new Error("Cannot move audio clip without audio data");const a=this.song,c=a.tickToSeconds(this.audioClipData.startTick),l=a.tickToSeconds(s),h=a.tickToSeconds(o)-l,g=l-c,I=a.tickToSeconds(this.clipStartTick+e),v=I-g,k=I+h;if(this.clipStartTick=r,this.clipEndTick=a.secondsToTick(k),this.audioClipData.startTick=a.secondsToTick(v),this.clipEndTick<0){this.deleteFromParent(!0);return}}this.track&&(this.track.orderedInsertClipInternal(this),n&&this.track.getAutomation().moveAllPointsWithinRange(s,o,e,0))}moveClipTo(e,n){const r=e-this.getClipStartTick();this.moveClip(r,n)}deleteFromParent(e){this.track&&(this.track.deleteClip(this,e),this.track=void 0)}getNotesByIds(e){const n=new Set(e),r=[];for(const i of this.notes)n.has(i.getId())&&r.push(i);return r}getAudioEndTick(){if(this.type!==2||!this.audioClipData)return;const e=this.getAudioDuration();if(!N.isNumber(e))return;const n=this.song.tickToSeconds(this.audioClipData.startTick);return this.song.secondsToTick(n+e)}static getNotesInRange(e,n,r){return Y.getNotesInRangeImpl(e,n,r,i=>({getStartTick:()=>i}),i=>i.getStartTick(),i=>i.getEndTick())}static getNotesInRangeImpl(e,n,r,i,s,o){let a=Math.max(0,O.lt(e,i(n),(l,p)=>s(l)-s(p)));for(;e[a]&&!Y.isNoteInClip(s(e[a]),o(e[a]),n,r);)a+=1;if(a>=e.length)return[];let c=Math.min(e.length-1,O.gt(e,i(r),(l,p)=>s(l)-s(p)));for(;e[c]&&!Y.isNoteInClip(s(e[c]),o(e[c]),n,r);)c-=1;return c<0?[]:c<a?[]:e.slice(a,c+1)}static isNoteInClip(e,n,r,i){return(e>=r||r===0&&e<=0)&&e<i&&n>e}static getNotePlayableRange(e,n,r,i){if(!Y.isNoteInClip(e,n,r,i))return null;const s=Math.max(e,r),o=Math.min(n,i);return s>o?null:{startTick:s,endTick:o}}trimConflictPartInternal(e,n){const r=Math.max(e,this.getClipStartTick()),i=Math.min(n,this.getClipEndTick());if(!(r>i)&&!(r>this.getClipEndTick()||i<this.getClipStartTick())){if(i>=this.getClipEndTick()&&r<=this.getClipStartTick()){this.deleteFromParent(!0);return}if(i<this.getClipEndTick()&&r>this.getClipStartTick()){const s=i+1,o=this.getClipEndTick();if(this.adjustClipRight(r-1,!1),this.track){if(this.type===1){const a=this.track.createMIDIClip({clipStartTick:s,clipEndTick:o}),c=Y.getNotesInRange(this.notes,s,o);for(const l of c)a.createNote({pitch:l.getPitch(),velocity:l.getVelocity(),startTick:l.getStartTick(),endTick:l.getEndTick(),updateClipRange:!1,resolveClipConflict:!1})}else if(this.type===2){const a=this.audioClipData;this.track.createAudioClip({clipStartTick:s,clipEndTick:o,audioClipData:{audioFilePath:a.audioFilePath,startTick:a.startTick,duration:a.duration}})}}return}r>this.getClipStartTick()&&r<=this.getClipEndTick()?this.adjustClipRight(r-1,!1):i<this.getClipEndTick()&&i>=this.getClipStartTick()&&this.adjustClipLeft(i+1,!1)}}getNextNoteIdInternal(){const e=this.nextNoteIdInternal;return this.nextNoteIdInternal>=2147483647?this.nextNoteIdInternal=1:this.nextNoteIdInternal+=1,e}static generateClipIdInternal(){return tn(10)}}var Qe=(t=>(t[t.UNDEFINED=0]="UNDEFINED",t[t.VOLUME=1]="VOLUME",t[t.PAN=2]="PAN",t[t.AUDIO_PLUGIN=3]="AUDIO_PLUGIN",t))(Qe||{});class W{type;pluginInstanceId;paramId;constructor(e,n,r){this.type=e,this.pluginInstanceId=n,this.paramId=r}getType(){return this.type}setType(e){this.type=e}getPluginInstanceId(){return this.pluginInstanceId}setPluginInstanceId(e){this.pluginInstanceId=e}getParamId(){return this.paramId}setParamId(e){this.paramId=e}equals(e){return W.areAutomationTargetsEqual(this.getType(),e.getType(),this.getPluginInstanceId(),e.getPluginInstanceId(),this.getParamId(),e.getParamId())}clone(){return new W(this.type,this.pluginInstanceId,this.paramId)}toTfAutomationTargetId(){return W.encodeAutomationTarget(this.type,this.pluginInstanceId,this.paramId)}static fromTfAutomationTargetId(e){return W.decodeAutomationTarget(e)}static encodeAutomationTarget(e,n,r){return e===3?`${e}^^${n}^^${r}`:`${e}`}static decodeAutomationTarget(e){const n=e.split("^^");if(n.length===0)throw new Error(`Invalid automation target id: ${e}`);const r=Number(n[0]);return n.length>2?new W(r,n[1],n[2]):new W(r)}static areAutomationTargetsEqual(e,n,r,i,s,o){return W.encodeAutomationTarget(e,r,s)===W.encodeAutomationTarget(n,i,o)}}class Pt{points=[];disabled=!1;nextPointIdInternal=1;getDisabled(){return this.disabled}setDisabled(e){this.disabled=e}getPoints(){return this.points}getPointsInRange(e,n){return Pt.getPointsInRangeImpl(this.points,e,n)}static getPointsInRangeImpl(e,n,r){const i=O.ge(e,{tick:n},(o,a)=>o.tick-a.tick),s=[];for(let o=i;o<e.length;o+=1){const a=e[o];if(a.tick>r)break;s.push(a)}return s}addPoint(e,n,r=!1){const i={tick:e,value:Math.max(0,Math.min(1,n)),id:this.getNextPointIdInternal()};return Pt.orderedInsertPointInternal(this.points,i,r),i}removePoints(e){const n=new Set(e);for(let r=this.points.length-1;r>=0;r-=1){const i=this.points[r];n.has(i.id)&&this.points.splice(r,1)}}removePointsInRange(e,n){const r=O.ge(this.points,{tick:e},(s,o)=>s.tick-o.tick);if(r>=this.points.length)return;let i=r;for(;i+1<this.points.length&&this.points[i+1].tick<=n;)i+=1;this.points.splice(r,i-r+1)}movePointsInRange(e,n,r,i,s=!0){const o=this.getPointsInRange(e,n);this.movePoints(o.map(a=>a.id),r,i,s)}moveAllPoints(e,n,r=!0){this.movePoints(this.points.map(i=>i.id),e,n,r)}movePoints(e,n,r,i=!0){if(e.length===0)return;const s=new Set(e);let o,a;const c=[];for(let l=0;l<this.points.length;l+=1){const p=this.points[l];!s.has(p.id)||(c.push(p),o===void 0&&(o=l),a=l)}if(!(o===void 0||a===void 0)){if(i){if(n<0){const l=Math.max(0,this.points[o].tick+n),p=O.gt(this.points,{tick:l},(h,g)=>h.tick-g.tick);p<o&&this.points.splice(p,o-p)}else if(n>0){const l=this.points[a].tick+n,p=O.lt(this.points,{tick:l},(h,g)=>h.tick-g.tick);p>a&&this.points.splice(a+1,p-a)}}for(const l of c)l.tick=Math.max(0,l.tick+n),l.value=Math.max(0,Math.min(1,l.value+r));Math.abs(n)>0&&this.points.sort((l,p)=>l.tick-p.tick)}}clone(){const e=new Pt;e.setDisabled(this.disabled);for(const n of this.points)e.addPoint(n.tick,n.value,!1);return e}getNextPointIdInternal(){const e=this.nextPointIdInternal;return this.nextPointIdInternal>=2147483647?this.nextPointIdInternal=1:this.nextPointIdInternal+=1,e}static orderedInsertPointInternal(e,n,r=!1){const i=O.ge(e,n,(s,o)=>s.tick-o.tick);for(;r&&e[i]&&e[i].tick===n.tick;)e.splice(i,1);e.splice(i,0,n)}}class rn{targets=[];targetValues={};getAutomationTargets(){return this.targets}getAutomationTargetValues(){return this.targetValues}getOrCreateAutomationValueById(e){return this.targetValues[e]||(this.targetValues[e]=new Pt),this.targetValues[e]}getAutomationValueById(e){return this.targetValues[e]}getAutomationValueByTarget(e){const n=e.toTfAutomationTargetId();return this.getAutomationValueById(n)}addAutomation(e,n=0){N.isNumber(n)||(n=0),this.targets.splice(n,0,e);const r=e.toTfAutomationTargetId();this.getAutomationValueById(r)||(this.targetValues[r]=new Pt)}removeAutomation(e){for(let r=this.targets.length-1;r>=0;r-=1)this.targets[r].equals(e)&&this.targets.splice(r,1);const n=e.toTfAutomationTargetId();delete this.targetValues[n]}removeAutomationOfPlugin(e){for(let n=this.targets.length-1;n>=0;n-=1){const r=this.targets[n];r.getPluginInstanceId()===e&&this.removeAutomation(r)}for(const n of N.keys(this.targetValues)){const r=W.decodeAutomationTarget(n);r.getPluginInstanceId()===e&&this.removeAutomation(r)}}removeAllPointsWithinRange(e,n){for(const r of N.keys(this.targetValues))this.targetValues[r].removePointsInRange(e,n)}moveAllPointsWithinRange(e,n,r,i){for(const s of N.keys(this.targetValues))this.targetValues[s].movePointsInRange(e,n,r,i,!1)}clone(){const e=new rn;for(const n of this.targets)e.addAutomation(n.clone());for(const n of N.keys(this.targetValues)){const r=this.targetValues[n];e.targetValues[n]=r.clone()}return e}}var wt=(t=>(t[t.MIDI_TRACK=1]="MIDI_TRACK",t[t.AUDIO_TRACK=2]="AUDIO_TRACK",t[t.MASTER_TRACK=3]="MASTER_TRACK",t))(wt||{});class St{insturment;clips;suggestedInstruments;uuid;volume;solo;muted;rank;pan;samplerPlugin;audioPlugins=[];song;automation;type;constructor({type:e,song:n,uuid:r=St.generateTrackIdInternal(),clips:i=[],instrument:s,suggestedInstruments:o=[],volume:a=go(0),solo:c=!1,muted:l=!1,rank:p=0,pan:h=0}){this.song=n,this.type=e,s?this.insturment=s:e===1&&(this.insturment=new se({program:0,isDrum:!1})),this.clips=[...i],this.suggestedInstruments=[...o],this.uuid=r,this.volume=a,this.solo=c,this.muted=l,this.rank=p,this.pan=h,this.automation=new rn}getType(){return this.type}getSong(){return this.song}getInstrument(){return this.insturment}setInstrument({program:e,isDrum:n}){this.type===1&&(this.insturment=new se({program:e,isDrum:n}))}getSuggestedInstruments(){return this.suggestedInstruments}createSuggestedInstrument({program:e,isDrum:n}){if(this.type!==1)return;const r=new se({program:e,isDrum:n});return this.suggestedInstruments.push(r),r}clearSuggestedInstruments(){this.suggestedInstruments=[]}getId(){return this.uuid}setId(e){this.uuid=e}getVolume(){return this.volume}setVolume(e){this.volume=e}setPan(e){this.pan=e}getPan(){return this.pan}getSolo(){return this.solo}setSolo(e){this.solo=e,e&&this.muted&&(this.muted=!1)}getMuted(){return this.muted}setMuted(e){this.muted=e}getRank(){return this.rank}createAudioPlugin(e){const n=fe(e);return new me(n.name,n.manufacturerName,n.pluginFormatName,n.pluginVersion)}getSamplerPlugin(){return this.samplerPlugin}setSamplerPlugin(e,n=!0){if(this.type!==1)return;const r=!this.samplerPlugin&&!!e||!e&&!!this.samplerPlugin||!!e&&!!this.samplerPlugin&&!e.matchesTfId(this.samplerPlugin.getTuneflowId()),i=this.samplerPlugin;this.samplerPlugin=e,r&&i&&n&&this.automation.removeAutomationOfPlugin(i.getInstanceId())}getAudioPlugins(){return this.audioPlugins}addAudioPlugin(e){this.audioPlugins.push(e)}getTrackStartTick(){return!this.clips||this.clips.length===0?0:this.clips[0].getClipStartTick()}getTrackEndTick(){return!this.clips||this.clips.length===0?0:this.clips[this.clips.length-1].getClipEndTick()}getClipById(e){for(const n of this.clips)if(n.getId()===e)return n;return null}getClips(){return this.clips}getClipsOverlappingWith(e,n){const r=[],i=O.lt(this.clips,{getClipStartTick:()=>e},(s,o)=>s.getClipStartTick()-o.getClipStartTick());for(let s=Math.max(i,0);s<this.clips.length;s+=1){const o=this.clips[s];if(!(o.getClipEndTick()<e)){if(o.getClipStartTick()>n)break;r.push(o)}}return r}createMIDIClip({clipStartTick:e,clipEndTick:n=void 0,insertClip:r=!0}){if(!N.isNumber(e))throw new Error("clipStartTick must be specified when creating a clip.");const i=n??e+1;if(i<e)throw new Error(`clipEndTick must be greater or equal to clipStartTick, got clipStartTick: ${e}, clipEndTick: ${n}`);const s=new Y({id:Y.generateClipIdInternal(),type:qt.MIDI_CLIP,song:this.song,track:void 0,clipStartTick:e,clipEndTick:i});return r&&this.insertClip(s),s}createAudioClip({clipStartTick:e,audioClipData:n,clipEndTick:r,insertClip:i=!0}){if(!N.isNumber(e))throw new Error("clipStartTick must be specified when creating a clip.");const s=new Y({id:Y.generateClipIdInternal(),type:qt.AUDIO_CLIP,song:this.song,track:void 0,clipStartTick:e,clipEndTick:r,audioClipData:n});return i&&this.insertClip(s),s}insertClip(e){if(e.getTrack()!==this)e.getTrack()&&e.deleteFromParent(!1),e.track=this;else return;this.resolveClipConflictInternal(e.getId(),e.getClipStartTick(),e.getClipEndTick()),this.orderedInsertClipInternal(e)}cloneClip(e){if(e.getType()===qt.MIDI_CLIP){const n=this.createMIDIClip({clipStartTick:e.getClipStartTick(),clipEndTick:e.getClipEndTick(),insertClip:!1});for(const r of e.getRawNotes())n.createNote({pitch:r.getPitch(),velocity:r.getVelocity(),startTick:r.getStartTick(),endTick:r.getEndTick(),updateClipRange:!1,resolveClipConflict:!1});return n}else{if(e.getType()===qt.AUDIO_CLIP)return this.createAudioClip({clipStartTick:e.getClipStartTick(),clipEndTick:e.getClipEndTick(),audioClipData:e.getAudioClipData(),insertClip:!1});throw new Error(`Unsupported clip type ${e.getType()}`)}}getClipIndex(e){const n=O.le(this.clips,e,(r,i)=>r.getClipStartTick()-i.getClipStartTick());return this.clips.indexOf(e,n)}deleteClip(e,n){const r=this.getClipIndex(e);this.deleteClipAt(r,n)}deleteClipAt(e,n){if(!(e<0)){if(n){const r=this.clips[e];if(!r)return;this.automation.removeAllPointsWithinRange(r.getClipStartTick(),r.getClipEndTick())}this.clips.splice(e,1)}}deleteFromParent(){this.song.removeTrack(this.getId())}getAutomation(){return this.automation}setAutomation(e){this.automation=e.clone()}hasAnyAutomation(){return this.automation.getAutomationTargets().length>0&&!N.isEmpty(this.automation.getAutomationTargetValues())}static generateTrackIdInternal(){return tn()}resolveClipConflictInternal(e,n,r){const i=this.getClipsOverlappingWith(n,r);for(const s of i)s.getId()!==e&&s.trimConflictPartInternal(n,r)}orderedInsertClipInternal(e){const n=O.ge(this.clips,e,(r,i)=>r.getClipStartTick()-i.getClipStartTick());this.clips.splice(n,0,e)}}class se{program;isDrum;constructor({program:e,isDrum:n}){this.program=e,this.isDrum=n}getProgram(){return this.program}getIsDrum(){return this.isDrum}clone(){return new se({program:this.program,isDrum:this.isDrum})}}var sn={},on={};function Rf(t){var e=new D(t),n=e.readChunk();if(n.id!="MThd")throw"Bad MIDI file.  Expected 'MHdr', got: '"+n.id+"'";for(var r=Ff(n.data),i=[],s=0;!e.eof()&&s<r.numTracks;s++){var o=e.readChunk();if(o.id!="MTrk")throw"Bad MIDI file.  Expected 'MTrk', got: '"+o.id+"'";var a=Uf(o.data);i.push(a)}return{header:r,tracks:i}}function Ff(t){var e=new D(t),n=e.readUInt16(),r=e.readUInt16(),i={format:n,numTracks:r},s=e.readUInt16();return s&32768?(i.framesPerSecond=256-(s>>8),i.ticksPerFrame=s&255):i.ticksPerBeat=s,i}function Uf(t){for(var e=new D(t),n=[];!e.eof();){var r=s();n.push(r)}return n;var i;function s(){var o={};o.deltaTime=e.readVarInt();var a=e.readUInt8();if((a&240)===240)if(a===255){o.meta=!0;var c=e.readUInt8(),l=e.readVarInt();switch(c){case 0:if(o.type="sequenceNumber",l!==2)throw"Expected length for sequenceNumber event is 2, got "+l;return o.number=e.readUInt16(),o;case 1:return o.type="text",o.text=e.readString(l),o;case 2:return o.type="copyrightNotice",o.text=e.readString(l),o;case 3:return o.type="trackName",o.text=e.readString(l),o;case 4:return o.type="instrumentName",o.text=e.readString(l),o;case 5:return o.type="lyrics",o.text=e.readString(l),o;case 6:return o.type="marker",o.text=e.readString(l),o;case 7:return o.type="cuePoint",o.text=e.readString(l),o;case 32:if(o.type="channelPrefix",l!=1)throw"Expected length for channelPrefix event is 1, got "+l;return o.channel=e.readUInt8(),o;case 33:if(o.type="portPrefix",l!=1)throw"Expected length for portPrefix event is 1, got "+l;return o.port=e.readUInt8(),o;case 47:if(o.type="endOfTrack",l!=0)throw"Expected length for endOfTrack event is 0, got "+l;return o;case 81:if(o.type="setTempo",l!=3)throw"Expected length for setTempo event is 3, got "+l;return o.microsecondsPerBeat=e.readUInt24(),o;case 84:if(o.type="smpteOffset",l!=5)throw"Expected length for smpteOffset event is 5, got "+l;var p=e.readUInt8(),h={0:24,32:25,64:29,96:30};return o.frameRate=h[p&96],o.hour=p&31,o.min=e.readUInt8(),o.sec=e.readUInt8(),o.frame=e.readUInt8(),o.subFrame=e.readUInt8(),o;case 88:if(o.type="timeSignature",l!=4)throw"Expected length for timeSignature event is 4, got "+l;return o.numerator=e.readUInt8(),o.denominator=1<<e.readUInt8(),o.metronome=e.readUInt8(),o.thirtyseconds=e.readUInt8(),o;case 89:if(o.type="keySignature",l!=2)throw"Expected length for keySignature event is 2, got "+l;return o.key=e.readInt8(),o.scale=e.readUInt8(),o;case 127:return o.type="sequencerSpecific",o.data=e.readBytes(l),o;default:return o.type="unknownMeta",o.data=e.readBytes(l),o.metatypeByte=c,o}}else if(a==240){o.type="sysEx";var l=e.readVarInt();return o.data=e.readBytes(l),o}else if(a==247){o.type="endSysEx";var l=e.readVarInt();return o.data=e.readBytes(l),o}else throw"Unrecognised MIDI event type byte: "+a;else{var g;if((a&128)===0){if(i===null)throw"Running status byte encountered before status byte";g=a,a=i,o.running=!0}else g=e.readUInt8(),i=a;var I=a>>4;switch(o.channel=a&15,I){case 8:return o.type="noteOff",o.noteNumber=g,o.velocity=e.readUInt8(),o;case 9:var v=e.readUInt8();return o.type=v===0?"noteOff":"noteOn",o.noteNumber=g,o.velocity=v,v===0&&(o.byte9=!0),o;case 10:return o.type="noteAftertouch",o.noteNumber=g,o.amount=e.readUInt8(),o;case 11:return o.type="controller",o.controllerType=g,o.value=e.readUInt8(),o;case 12:return o.type="programChange",o.programNumber=g,o;case 13:return o.type="channelAftertouch",o.amount=g,o;case 14:return o.type="pitchBend",o.value=g+(e.readUInt8()<<7)-8192,o;default:throw"Unrecognised MIDI event type: "+I}}}}function D(t){this.buffer=t,this.bufferLen=this.buffer.length,this.pos=0}D.prototype.eof=function(){return this.pos>=this.bufferLen};D.prototype.readUInt8=function(){var t=this.buffer[this.pos];return this.pos+=1,t};D.prototype.readInt8=function(){var t=this.readUInt8();return t&128?t-256:t};D.prototype.readUInt16=function(){var t=this.readUInt8(),e=this.readUInt8();return(t<<8)+e};D.prototype.readInt16=function(){var t=this.readUInt16();return t&32768?t-65536:t};D.prototype.readUInt24=function(){var t=this.readUInt8(),e=this.readUInt8(),n=this.readUInt8();return(t<<16)+(e<<8)+n};D.prototype.readInt24=function(){var t=this.readUInt24();return t&8388608?t-16777216:t};D.prototype.readUInt32=function(){var t=this.readUInt8(),e=this.readUInt8(),n=this.readUInt8(),r=this.readUInt8();return(t<<24)+(e<<16)+(n<<8)+r};D.prototype.readBytes=function(t){var e=this.buffer.slice(this.pos,this.pos+t);return this.pos+=t,e};D.prototype.readString=function(t){var e=this.readBytes(t);return String.fromCharCode.apply(null,e)};D.prototype.readVarInt=function(){for(var t=0;!this.eof();){var e=this.readUInt8();if(e&128)t+=e&127,t<<=7;else return t+e}return t};D.prototype.readChunk=function(){var t=this.readString(4),e=this.readUInt32(),n=this.readBytes(e);return{id:t,length:e,data:n}};var Bf=Rf;function Df(t,e){if(typeof t!="object")throw"Invalid MIDI data";e=e||{};var n=t.header||{},r=t.tracks||[],i,s=r.length,o=new C;for($f(o,n,s),i=0;i<s;i++)Lf(o,r[i],e);return o.buffer}function $f(t,e,n){var r=e.format==null?1:e.format,i=128;e.timeDivision?i=e.timeDivision:e.ticksPerFrame&&e.framesPerSecond?i=-(e.framesPerSecond&255)<<8|e.ticksPerFrame&255:e.ticksPerBeat&&(i=e.ticksPerBeat&32767);var s=new C;s.writeUInt16(r),s.writeUInt16(n),s.writeUInt16(i),t.writeChunk("MThd",s.buffer)}function Lf(t,e,n){var r=new C,i,s=e.length,o=null;for(i=0;i<s;i++)(n.running===!1||!n.running&&!e[i].running)&&(o=null),o=Hf(r,e[i],o,n.useByte9ForNoteOff);t.writeChunk("MTrk",r.buffer)}function Hf(t,e,n,r){var i=e.type,s=e.deltaTime,o=e.text||"",a=e.data||[],c=null;switch(t.writeVarInt(s),i){case"sequenceNumber":t.writeUInt8(255),t.writeUInt8(0),t.writeVarInt(2),t.writeUInt16(e.number);break;case"text":t.writeUInt8(255),t.writeUInt8(1),t.writeVarInt(o.length),t.writeString(o);break;case"copyrightNotice":t.writeUInt8(255),t.writeUInt8(2),t.writeVarInt(o.length),t.writeString(o);break;case"trackName":t.writeUInt8(255),t.writeUInt8(3),t.writeVarInt(o.length),t.writeString(o);break;case"instrumentName":t.writeUInt8(255),t.writeUInt8(4),t.writeVarInt(o.length),t.writeString(o);break;case"lyrics":t.writeUInt8(255),t.writeUInt8(5),t.writeVarInt(o.length),t.writeString(o);break;case"marker":t.writeUInt8(255),t.writeUInt8(6),t.writeVarInt(o.length),t.writeString(o);break;case"cuePoint":t.writeUInt8(255),t.writeUInt8(7),t.writeVarInt(o.length),t.writeString(o);break;case"channelPrefix":t.writeUInt8(255),t.writeUInt8(32),t.writeVarInt(1),t.writeUInt8(e.channel);break;case"portPrefix":t.writeUInt8(255),t.writeUInt8(33),t.writeVarInt(1),t.writeUInt8(e.port);break;case"endOfTrack":t.writeUInt8(255),t.writeUInt8(47),t.writeVarInt(0);break;case"setTempo":t.writeUInt8(255),t.writeUInt8(81),t.writeVarInt(3),t.writeUInt24(e.microsecondsPerBeat);break;case"smpteOffset":t.writeUInt8(255),t.writeUInt8(84),t.writeVarInt(5);var l={24:0,25:32,29:64,30:96},p=e.hour&31|l[e.frameRate];t.writeUInt8(p),t.writeUInt8(e.min),t.writeUInt8(e.sec),t.writeUInt8(e.frame),t.writeUInt8(e.subFrame);break;case"timeSignature":t.writeUInt8(255),t.writeUInt8(88),t.writeVarInt(4),t.writeUInt8(e.numerator);var h=Math.floor(Math.log(e.denominator)/Math.LN2)&255;t.writeUInt8(h),t.writeUInt8(e.metronome),t.writeUInt8(e.thirtyseconds||8);break;case"keySignature":t.writeUInt8(255),t.writeUInt8(89),t.writeVarInt(2),t.writeInt8(e.key),t.writeUInt8(e.scale);break;case"sequencerSpecific":t.writeUInt8(255),t.writeUInt8(127),t.writeVarInt(a.length),t.writeBytes(a);break;case"unknownMeta":e.metatypeByte!=null&&(t.writeUInt8(255),t.writeUInt8(e.metatypeByte),t.writeVarInt(a.length),t.writeBytes(a));break;case"sysEx":t.writeUInt8(240),t.writeVarInt(a.length),t.writeBytes(a);break;case"endSysEx":t.writeUInt8(247),t.writeVarInt(a.length),t.writeBytes(a);break;case"noteOff":var g=r!==!1&&e.byte9||r&&e.velocity==0?144:128;c=g|e.channel,c!==n&&t.writeUInt8(c),t.writeUInt8(e.noteNumber),t.writeUInt8(e.velocity);break;case"noteOn":c=144|e.channel,c!==n&&t.writeUInt8(c),t.writeUInt8(e.noteNumber),t.writeUInt8(e.velocity);break;case"noteAftertouch":c=160|e.channel,c!==n&&t.writeUInt8(c),t.writeUInt8(e.noteNumber),t.writeUInt8(e.amount);break;case"controller":c=176|e.channel,c!==n&&t.writeUInt8(c),t.writeUInt8(e.controllerType),t.writeUInt8(e.value);break;case"programChange":c=192|e.channel,c!==n&&t.writeUInt8(c),t.writeUInt8(e.programNumber);break;case"channelAftertouch":c=208|e.channel,c!==n&&t.writeUInt8(c),t.writeUInt8(e.amount);break;case"pitchBend":c=224|e.channel,c!==n&&t.writeUInt8(c);var I=8192+e.value,v=I&127,k=I>>7&127;t.writeUInt8(v),t.writeUInt8(k);break;default:throw"Unrecognized event type: "+i}return c}function C(){this.buffer=[]}C.prototype.writeUInt8=function(t){this.buffer.push(t&255)};C.prototype.writeInt8=C.prototype.writeUInt8;C.prototype.writeUInt16=function(t){var e=t>>8&255,n=t&255;this.writeUInt8(e),this.writeUInt8(n)};C.prototype.writeInt16=C.prototype.writeUInt16;C.prototype.writeUInt24=function(t){var e=t>>16&255,n=t>>8&255,r=t&255;this.writeUInt8(e),this.writeUInt8(n),this.writeUInt8(r)};C.prototype.writeInt24=C.prototype.writeUInt24;C.prototype.writeUInt32=function(t){var e=t>>24&255,n=t>>16&255,r=t>>8&255,i=t&255;this.writeUInt8(e),this.writeUInt8(n),this.writeUInt8(r),this.writeUInt8(i)};C.prototype.writeInt32=C.prototype.writeUInt32;C.prototype.writeBytes=function(t){this.buffer=this.buffer.concat(Array.prototype.slice.call(t,0))};C.prototype.writeString=function(t){var e,n=t.length,r=[];for(e=0;e<n;e++)r.push(t.codePointAt(e));this.writeBytes(r)};C.prototype.writeVarInt=function(t){if(t<0)throw"Cannot write negative variable-length integer";if(t<=127)this.writeUInt8(t);else{var e=t,n=[];for(n.push(e&127),e>>=7;e;){var r=e&127|128;n.push(r),e>>=7}this.writeBytes(n.reverse())}};C.prototype.writeChunk=function(t,e){this.writeString(t),this.writeUInt32(e.length),this.writeBytes(e)};var qf=Df;on.parseMidi=Bf;on.writeMidi=qf;var wr={},an={},Ie={};Object.defineProperty(Ie,"__esModule",{value:!0});function Io(t,e,n){n===void 0&&(n="ticks");var r=0,i=t.length,s=i;if(i>0&&t[i-1][n]<=e)return i-1;for(;r<s;){var o=Math.floor(r+(s-r)/2),a=t[o],c=t[o+1];if(a[n]===e){for(var l=o;l<t.length;l++){var p=t[l];p[n]===e&&(o=l)}return o}else{if(a[n]<e&&c[n]>e)return o;a[n]>e?s=o:a[n]<e&&(r=o+1)}}return-1}Ie.search=Io;function zf(t,e,n){if(n===void 0&&(n="ticks"),t.length){var r=Io(t,e[n],n);t.splice(r+1,0,e)}else t.push(e)}Ie.insert=zf;(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Ie,n=new WeakMap;t.keySignatureKeys=["Cb","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E","B","F#","C#"];var r=function(){function i(s){var o=this;this.tempos=[],this.timeSignatures=[],this.keySignatures=[],this.meta=[],this.name="",n.set(this,480),s&&(n.set(this,s.header.ticksPerBeat),s.tracks.forEach(function(a){return a.forEach(function(c){c.meta&&(c.type==="timeSignature"?o.timeSignatures.push({ticks:c.absoluteTime,timeSignature:[c.numerator,c.denominator]}):c.type==="setTempo"?o.tempos.push({bpm:6e7/c.microsecondsPerBeat,ticks:c.absoluteTime}):c.type==="keySignature"&&o.keySignatures.push({key:t.keySignatureKeys[c.key+7],scale:c.scale===0?"major":"minor",ticks:c.absoluteTime}))})}),s.tracks[0].forEach(function(a){a.meta&&(a.type==="trackName"?o.name=a.text:(a.type==="text"||a.type==="cuePoint"||a.type==="marker"||a.type==="lyrics")&&o.meta.push({text:a.text,ticks:a.absoluteTime,type:a.type}))}),this.update())}return i.prototype.update=function(){var s=this,o=0,a=0;this.tempos.sort(function(c,l){return c.ticks-l.ticks}),this.tempos.forEach(function(c,l){var p=l>0?s.tempos[l-1].bpm:s.tempos[0].bpm,h=c.ticks/s.ppq-a,g=60/p*h;c.time=g+o,o=c.time,a+=h}),this.timeSignatures.sort(function(c,l){return c.ticks-l.ticks}),this.timeSignatures.forEach(function(c,l){var p=l>0?s.timeSignatures[l-1]:s.timeSignatures[0],h=(c.ticks-p.ticks)/s.ppq,g=h/p.timeSignature[0]/(p.timeSignature[1]/4);p.measures=p.measures||0,c.measures=g+p.measures})},i.prototype.ticksToSeconds=function(s){var o=e.search(this.tempos,s);if(o!==-1){var a=this.tempos[o],c=a.time,l=(s-a.ticks)/this.ppq;return c+60/a.bpm*l}else{var p=s/this.ppq;return 60/120*p}},i.prototype.ticksToMeasures=function(s){var o=e.search(this.timeSignatures,s);if(o!==-1){var a=this.timeSignatures[o],c=(s-a.ticks)/this.ppq;return a.measures+c/(a.timeSignature[0]/a.timeSignature[1])/4}else return s/this.ppq/4},Object.defineProperty(i.prototype,"ppq",{get:function(){return n.get(this)},enumerable:!0,configurable:!0}),i.prototype.secondsToTicks=function(s){var o=e.search(this.tempos,s,"time");if(o!==-1){var a=this.tempos[o],c=a.time,l=s-c,p=l/(60/a.bpm);return Math.round(a.ticks+p*this.ppq)}else{var h=s/.5;return Math.round(h*this.ppq)}},i.prototype.toJSON=function(){return{keySignatures:this.keySignatures,meta:this.meta,name:this.name,ppq:this.ppq,tempos:this.tempos.map(function(s){return{bpm:s.bpm,ticks:s.ticks}}),timeSignatures:this.timeSignatures}},i.prototype.fromJSON=function(s){this.name=s.name,this.tempos=s.tempos.map(function(o){return Object.assign({},o)}),this.timeSignatures=s.timeSignatures.map(function(o){return Object.assign({},o)}),this.keySignatures=s.keySignatures.map(function(o){return Object.assign({},o)}),this.meta=s.meta.map(function(o){return Object.assign({},o)}),n.set(this,s.ppq),this.update()},i.prototype.setTempo=function(s){this.tempos=[{bpm:s,ticks:0}],this.update()},i}();t.Header=r})(an);var ve={exports:{}};ve.exports=Kf;ve.exports.from=vo;ve.exports.depth=Gf;ve.exports.fromDepth=To;function Kf(t){if(!Array.isArray(t))throw new TypeError("Expected value to be an array");return vo(t)}function vo(t){return yo(t,[])}function Gf(t,e){if(!Array.isArray(t))throw new TypeError("Expected value to be an array");return To(t,e)}function To(t,e){if(typeof e!="number")throw new TypeError("Expected the depth to be a number");return bo(t,[],e)}function yo(t,e){for(var n=0;n<t.length;n++){var r=t[n];Array.isArray(r)?yo(r,e):e.push(r)}return e}function bo(t,e,n){n--;for(var r=0;r<t.length;r++){var i=t[r];n>-1&&Array.isArray(i)?bo(i,e,n):e.push(i)}return e}var _n=X&&X.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r},Jf=X&&X.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wr,"__esModule",{value:!0});var Wf=on,Yf=an,jf=Jf(ve.exports);function Qf(t,e){return[{absoluteTime:t.ticks,channel:e,deltaTime:0,noteNumber:t.midi,type:"noteOn",velocity:Math.floor(t.velocity*127)},{absoluteTime:t.ticks+t.durationTicks,channel:e,deltaTime:0,noteNumber:t.midi,type:"noteOff",velocity:Math.floor(t.noteOffVelocity*127)}]}function Xf(t){return jf.default(t.notes.map(function(e){return Qf(e,t.channel)}))}function Zf(t,e){return{absoluteTime:t.ticks,channel:e,controllerType:t.number,deltaTime:0,type:"controller",value:Math.floor(t.value*127)}}function th(t){for(var e=[],n=0;n<127;n++)t.controlChanges.hasOwnProperty(n)&&t.controlChanges[n].forEach(function(r){e.push(Zf(r,t.channel))});return e}function eh(t,e){return{absoluteTime:t.ticks,channel:e,deltaTime:0,type:"pitchBend",value:t.value}}function nh(t){var e=[];return t.pitchBends.forEach(function(n){e.push(eh(n,t.channel))}),e}function rh(t){return{absoluteTime:0,channel:t.channel,deltaTime:0,programNumber:t.instrument.number,type:"programChange"}}function ih(t){return{absoluteTime:0,deltaTime:0,meta:!0,text:t,type:"trackName"}}function sh(t){return{absoluteTime:t.ticks,deltaTime:0,meta:!0,microsecondsPerBeat:Math.floor(6e7/t.bpm),type:"setTempo"}}function oh(t){return{absoluteTime:t.ticks,deltaTime:0,denominator:t.timeSignature[1],meta:!0,metronome:24,numerator:t.timeSignature[0],thirtyseconds:8,type:"timeSignature"}}function ah(t){var e=Yf.keySignatureKeys.indexOf(t.key);return{absoluteTime:t.ticks,deltaTime:0,key:e+7,meta:!0,scale:t.scale==="major"?0:1,type:"keySignature"}}function uh(t){return{absoluteTime:t.ticks,deltaTime:0,meta:!0,text:t.text,type:t.type}}function ch(t){var e={header:{format:1,numTracks:t.tracks.length+1,ticksPerBeat:t.header.ppq},tracks:_n([_n([{absoluteTime:0,deltaTime:0,meta:!0,text:t.header.name,type:"trackName"}],t.header.keySignatures.map(function(n){return ah(n)}),t.header.meta.map(function(n){return uh(n)}),t.header.tempos.map(function(n){return sh(n)}),t.header.timeSignatures.map(function(n){return oh(n)}))],t.tracks.map(function(n){return _n([ih(n.name),rh(n)],Xf(n),th(n),nh(n))}))};return e.tracks=e.tracks.map(function(n){n=n.sort(function(i,s){return i.absoluteTime-s.absoluteTime});var r=0;return n.forEach(function(i){i.deltaTime=i.absoluteTime-r,r=i.absoluteTime,delete i.absoluteTime}),n.push({deltaTime:0,meta:!0,type:"endOfTrack"}),n}),new Uint8Array(Wf.writeMidi(e))}wr.encode=ch;var un={},kr={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.controlChangeNames={1:"modulationWheel",2:"breath",4:"footController",5:"portamentoTime",7:"volume",8:"balance",10:"pan",64:"sustain",65:"portamentoTime",66:"sostenuto",67:"softPedal",68:"legatoFootswitch",84:"portamentoControl"},t.controlChangeIds=Object.keys(t.controlChangeNames).reduce(function(i,s){return i[t.controlChangeNames[s]]=s,i},{});var e=new WeakMap,n=new WeakMap,r=function(){function i(s,o){e.set(this,o),n.set(this,s.controllerType),this.ticks=s.absoluteTime,this.value=s.value}return Object.defineProperty(i.prototype,"number",{get:function(){return n.get(this)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"name",{get:function(){return t.controlChangeNames[this.number]?t.controlChangeNames[this.number]:null},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"time",{get:function(){var s=e.get(this);return s.ticksToSeconds(this.ticks)},set:function(s){var o=e.get(this);this.ticks=o.secondsToTicks(s)},enumerable:!0,configurable:!0}),i.prototype.toJSON=function(){return{number:this.number,ticks:this.ticks,time:this.time,value:this.value}},i}();t.ControlChange=r})(kr);var Sr={};Object.defineProperty(Sr,"__esModule",{value:!0});var Re=kr;function lh(){return new Proxy({},{get:function(t,e){if(t[e])return t[e];if(Re.controlChangeIds.hasOwnProperty(e))return t[Re.controlChangeIds[e]]},set:function(t,e,n){return Re.controlChangeIds.hasOwnProperty(e)?t[Re.controlChangeIds[e]]=n:t[e]=n,!0}})}Sr.createControlChanges=lh;var _r={};Object.defineProperty(_r,"__esModule",{value:!0});var xn=new WeakMap,fh=function(){function t(e,n){xn.set(this,n),this.ticks=e.absoluteTime,this.value=e.value}return Object.defineProperty(t.prototype,"time",{get:function(){var e=xn.get(this);return e.ticksToSeconds(this.ticks)},set:function(e){var n=xn.get(this);this.ticks=n.secondsToTicks(e)},enumerable:!0,configurable:!0}),t.prototype.toJSON=function(){return{ticks:this.ticks,time:this.time,value:this.value}},t}();_r.PitchBend=fh;var xr={},Te={};Object.defineProperty(Te,"__esModule",{value:!0});Te.instrumentByPatchID=["acoustic grand piano","bright acoustic piano","electric grand piano","honky-tonk piano","electric piano 1","electric piano 2","harpsichord","clavi","celesta","glockenspiel","music box","vibraphone","marimba","xylophone","tubular bells","dulcimer","drawbar organ","percussive organ","rock organ","church organ","reed organ","accordion","harmonica","tango accordion","acoustic guitar (nylon)","acoustic guitar (steel)","electric guitar (jazz)","electric guitar (clean)","electric guitar (muted)","overdriven guitar","distortion guitar","guitar harmonics","acoustic bass","electric bass (finger)","electric bass (pick)","fretless bass","slap bass 1","slap bass 2","synth bass 1","synth bass 2","violin","viola","cello","contrabass","tremolo strings","pizzicato strings","orchestral harp","timpani","string ensemble 1","string ensemble 2","synthstrings 1","synthstrings 2","choir aahs","voice oohs","synth voice","orchestra hit","trumpet","trombone","tuba","muted trumpet","french horn","brass section","synthbrass 1","synthbrass 2","soprano sax","alto sax","tenor sax","baritone sax","oboe","english horn","bassoon","clarinet","piccolo","flute","recorder","pan flute","blown bottle","shakuhachi","whistle","ocarina","lead 1 (square)","lead 2 (sawtooth)","lead 3 (calliope)","lead 4 (chiff)","lead 5 (charang)","lead 6 (voice)","lead 7 (fifths)","lead 8 (bass + lead)","pad 1 (new age)","pad 2 (warm)","pad 3 (polysynth)","pad 4 (choir)","pad 5 (bowed)","pad 6 (metallic)","pad 7 (halo)","pad 8 (sweep)","fx 1 (rain)","fx 2 (soundtrack)","fx 3 (crystal)","fx 4 (atmosphere)","fx 5 (brightness)","fx 6 (goblins)","fx 7 (echoes)","fx 8 (sci-fi)","sitar","banjo","shamisen","koto","kalimba","bag pipe","fiddle","shanai","tinkle bell","agogo","steel drums","woodblock","taiko drum","melodic tom","synth drum","reverse cymbal","guitar fret noise","breath noise","seashore","bird tweet","telephone ring","helicopter","applause","gunshot"];Te.InstrumentFamilyByID=["piano","chromatic percussion","organ","guitar","bass","strings","ensemble","brass","reed","pipe","synth lead","synth pad","synth effects","world","percussive","sound effects"];Te.DrumKitByPatchID={0:"standard kit",8:"room kit",16:"power kit",24:"electronic kit",25:"tr-808 kit",32:"jazz kit",40:"brush kit",48:"orchestra kit",56:"sound fx kit"};Object.defineProperty(xr,"__esModule",{value:!0});var Fe=Te,Fi=new WeakMap,hh=function(){function t(e,n){if(this.number=0,Fi.set(this,n),this.number=0,e){var r=e.find(function(i){return i.type==="programChange"});r&&(this.number=r.programNumber)}}return Object.defineProperty(t.prototype,"name",{get:function(){return this.percussion?Fe.DrumKitByPatchID[this.number]:Fe.instrumentByPatchID[this.number]},set:function(e){var n=Fe.instrumentByPatchID.indexOf(e);n!==-1&&(this.number=n)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"family",{get:function(){return this.percussion?"drums":Fe.InstrumentFamilyByID[Math.floor(this.number/8)]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"percussion",{get:function(){var e=Fi.get(this);return e.channel===9},enumerable:!0,configurable:!0}),t.prototype.toJSON=function(){return{family:this.family,name:this.name,number:this.number}},t.prototype.fromJSON=function(e){this.number=e.number},t}();xr.Instrument=hh;var Cr={};Object.defineProperty(Cr,"__esModule",{value:!0});function ph(t){var e=Math.floor(t/12)-1;return wo(t)+e.toString()}function wo(t){var e=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],n=t%12;return e[n]}function dh(t){var e=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];return e.indexOf(t)}var gh=function(){var t=/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,e={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13};return function(n){var r=t.exec(n),i=r[1],s=r[2],o=e[i.toLowerCase()];return o+(parseInt(s,10)+1)*12}}(),$t=new WeakMap,mh=function(){function t(e,n,r){$t.set(this,r),this.midi=e.midi,this.velocity=e.velocity,this.noteOffVelocity=n.velocity,this.ticks=e.ticks,this.durationTicks=n.ticks-e.ticks}return Object.defineProperty(t.prototype,"name",{get:function(){return ph(this.midi)},set:function(e){this.midi=gh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"octave",{get:function(){return Math.floor(this.midi/12)-1},set:function(e){var n=e-this.octave;this.midi+=n*12},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pitch",{get:function(){return wo(this.midi)},set:function(e){this.midi=12*(this.octave+1)+dh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){var e=$t.get(this);return e.ticksToSeconds(this.ticks+this.durationTicks)-e.ticksToSeconds(this.ticks)},set:function(e){var n=$t.get(this),r=n.secondsToTicks(this.time+e);this.durationTicks=r-this.ticks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"time",{get:function(){var e=$t.get(this);return e.ticksToSeconds(this.ticks)},set:function(e){var n=$t.get(this);this.ticks=n.secondsToTicks(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bars",{get:function(){var e=$t.get(this);return e.ticksToMeasures(this.ticks)},enumerable:!0,configurable:!0}),t.prototype.toJSON=function(){return{duration:this.duration,durationTicks:this.durationTicks,midi:this.midi,name:this.name,ticks:this.ticks,time:this.time,velocity:this.velocity}},t}();Cr.Note=mh;Object.defineProperty(un,"__esModule",{value:!0});var Cn=Ie,Ih=kr,vh=Sr,Th=_r,Ui=xr,yh=Cr,Ue=new WeakMap,bh=function(){function t(e,n){var r=this;if(this.name="",this.notes=[],this.controlChanges=vh.createControlChanges(),this.pitchBends=[],Ue.set(this,n),e){var i=e.find(function(g){return g.type==="trackName"});this.name=i?i.text:""}if(this.instrument=new Ui.Instrument(e,this),this.channel=0,e){for(var s=e.filter(function(g){return g.type==="noteOn"}),o=e.filter(function(g){return g.type==="noteOff"}),a=function(){var g=s.shift();c.channel=g.channel;var I=o.findIndex(function(k){return k.noteNumber===g.noteNumber&&k.absoluteTime>=g.absoluteTime});if(I!==-1){var v=o.splice(I,1)[0];c.addNote({durationTicks:v.absoluteTime-g.absoluteTime,midi:g.noteNumber,noteOffVelocity:v.velocity/127,ticks:g.absoluteTime,velocity:g.velocity/127})}},c=this;s.length;)a();var l=e.filter(function(g){return g.type==="controller"});l.forEach(function(g){r.addCC({number:g.controllerType,ticks:g.absoluteTime,value:g.value/127})});var p=e.filter(function(g){return g.type==="pitchBend"});p.forEach(function(g){r.addPitchBend({ticks:g.absoluteTime,value:g.value/Math.pow(2,13)})});var h=e.find(function(g){return g.type==="endOfTrack"});this.endOfTrackTicks=h!==void 0?h.absoluteTime:void 0}}return t.prototype.addNote=function(e){var n=Ue.get(this),r=new yh.Note({midi:0,ticks:0,velocity:1},{ticks:0,velocity:0},n);return Object.assign(r,e),Cn.insert(this.notes,r,"ticks"),this},t.prototype.addCC=function(e){var n=Ue.get(this),r=new Ih.ControlChange({controllerType:e.number},n);return delete e.number,Object.assign(r,e),Array.isArray(this.controlChanges[r.number])||(this.controlChanges[r.number]=[]),Cn.insert(this.controlChanges[r.number],r,"ticks"),this},t.prototype.addPitchBend=function(e){var n=Ue.get(this),r=new Th.PitchBend({},n);return Object.assign(r,e),Cn.insert(this.pitchBends,r,"ticks"),this},Object.defineProperty(t.prototype,"duration",{get:function(){if(!this.notes.length)return 0;for(var e=this.notes[this.notes.length-1].time+this.notes[this.notes.length-1].duration,n=0;n<this.notes.length-1;n++){var r=this.notes[n].time+this.notes[n].duration;e<r&&(e=r)}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"durationTicks",{get:function(){if(!this.notes.length)return 0;for(var e=this.notes[this.notes.length-1].ticks+this.notes[this.notes.length-1].durationTicks,n=0;n<this.notes.length-1;n++){var r=this.notes[n].ticks+this.notes[n].durationTicks;e<r&&(e=r)}return e},enumerable:!0,configurable:!0}),t.prototype.fromJSON=function(e){var n=this;this.name=e.name,this.channel=e.channel,this.instrument=new Ui.Instrument(void 0,this),this.instrument.fromJSON(e.instrument),e.endOfTrackTicks!==void 0&&(this.endOfTrackTicks=e.endOfTrackTicks);for(var r in e.controlChanges)e.controlChanges[r]&&e.controlChanges[r].forEach(function(i){n.addCC({number:i.number,ticks:i.ticks,value:i.value})});e.notes.forEach(function(i){n.addNote({durationTicks:i.durationTicks,midi:i.midi,ticks:i.ticks,velocity:i.velocity})})},t.prototype.toJSON=function(){for(var e={},n=0;n<127;n++)this.controlChanges.hasOwnProperty(n)&&(e[n]=this.controlChanges[n].map(function(i){return i.toJSON()}));var r={channel:this.channel,controlChanges:e,pitchBends:this.pitchBends.map(function(i){return i.toJSON()}),instrument:this.instrument.toJSON(),name:this.name,notes:this.notes.map(function(i){return i.toJSON()})};return this.endOfTrackTicks!==void 0&&(r.endOfTrackTicks=this.endOfTrackTicks),r},t}();un.Track=bh;var wh=X&&X.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(p){try{l(r.next(p))}catch(h){o(h)}}function c(p){try{l(r.throw(p))}catch(h){o(h)}}function l(p){p.done?s(p.value):i(p.value).then(a,c)}l((r=r.apply(t,e||[])).next())})},kh=X&&X.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(p){return c([l,p])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(p){l=[6,p],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};Object.defineProperty(sn,"__esModule",{value:!0});var Sh=on,_h=wr,Bi=an,En=un,xh=function(){function t(e){var n=this,r=null;e&&(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),r=Sh.parseMidi(e),r.tracks.forEach(function(i){var s=0;i.forEach(function(o){s+=o.deltaTime,o.absoluteTime=s})}),r.tracks=Ph(r.tracks)),this.header=new Bi.Header(r),this.tracks=[],e&&(this.tracks=r.tracks.map(function(i){return new En.Track(i,n.header)}),r.header.format===1&&this.tracks[0].duration===0&&this.tracks.shift())}return t.fromUrl=function(e){return wh(this,void 0,void 0,function(){var n,r;return kh(this,function(i){switch(i.label){case 0:return[4,fetch(e)];case 1:return n=i.sent(),n.ok?[4,n.arrayBuffer()]:[3,3];case 2:return r=i.sent(),[2,new t(r)];case 3:throw new Error("could not load "+e)}})})},Object.defineProperty(t.prototype,"name",{get:function(){return this.header.name},set:function(e){this.header.name=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){var e=this.tracks.map(function(n){return n.duration});return Math.max.apply(Math,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"durationTicks",{get:function(){var e=this.tracks.map(function(n){return n.durationTicks});return Math.max.apply(Math,e)},enumerable:!0,configurable:!0}),t.prototype.addTrack=function(){var e=new En.Track(void 0,this.header);return this.tracks.push(e),e},t.prototype.toArray=function(){return _h.encode(this)},t.prototype.toJSON=function(){return{header:this.header.toJSON(),tracks:this.tracks.map(function(e){return e.toJSON()})}},t.prototype.fromJSON=function(e){var n=this;this.header=new Bi.Header,this.header.fromJSON(e.header),this.tracks=e.tracks.map(function(r){var i=new En.Track(void 0,n.header);return i.fromJSON(r),i})},t.prototype.clone=function(){var e=new t;return e.fromJSON(this.toJSON()),e},t}(),Ch=sn.Midi=xh,Eh=un;sn.Track=Eh.Track;var Nh=an;sn.Header=Nh.Header;function Ph(t){for(var e=[],n=0;n<t.length;n++)for(var r=e.length,i=new Map,s=Array(16).fill(0),o=0,a=t[n];o<a.length;o++){var c=a[o],l=r,p=c.channel;if(p!==void 0){c.type==="programChange"&&(s[p]=c.programNumber);var h=s[p],g=h+" "+p;i.has(g)?l=i.get(g):(l=r+i.size,i.set(g,l))}e[l]||e.push([]),e[l].push(c)}return e}class oe{masterTrack;tracks;PPQ;tempos;timeSignatures;pluginContext;nextTrackRank=1;constructor(){this.tracks=[],this.PPQ=0,this.tempos=[],this.timeSignatures=[]}getMasterTrack(){return this.masterTrack||(this.masterTrack=new St({type:wt.MASTER_TRACK,song:this,uuid:St.generateTrackIdInternal()})),this.masterTrack}getTracks(){return this.tracks}getTrackById(e){return qe(this.tracks,n=>n.getId()===e)}getTracksByIds(e){if(!this.tracks)return[];const n=new Set(e);return this.tracks.filter(r=>n.has(r.getId()))}getTrackIndex(e){return Jt(this.tracks,n=>n.getId()===e)}createTrack({type:e,index:n,rank:r,assignDefaultSamplerPlugin:i=!1}){this.checkAccess("createTrack"),r==null||r===null?r=this.getNextTrackRank():this.nextTrackRank=Math.max(r+1,this.nextTrackRank);const s=new St({type:e,song:this,uuid:this.getNextTrackId(),rank:r==null||r===null?this.getNextTrackRank():r});return i&&e===wt.MIDI_TRACK&&s.setSamplerPlugin(s.createAudioPlugin(me.DEFAULT_SYNTH_TFID)),n!=null?this.tracks.splice(n,0,s):this.tracks.push(s),s}cloneTrack(e){let n=this.getTrackIndex(e.getId());n<0&&(n=void 0);const r=this.createTrack({type:e.getType(),index:n});if(r.setVolume(e.getVolume()),r.setPan(e.getPan()),r.setSolo(e.getSolo()),r.setMuted(e.getMuted()),e.getType()===wt.MIDI_TRACK){const i=e.getInstrument();i&&r.setInstrument({program:i.getProgram(),isDrum:i.getIsDrum()});for(const o of e.getSuggestedInstruments())r.createSuggestedInstrument({program:o.getProgram(),isDrum:o.getIsDrum()});const s=e.getSamplerPlugin();s&&r.setSamplerPlugin(s.clone(r))}else e.getType(),wt.AUDIO_TRACK;for(const i of e.getAudioPlugins())r.addAudioPlugin(i.clone(r));for(const i of e.getClips()){const s=r.cloneClip(i);r.insertClip(s)}return e.hasAnyAutomation()&&r.setAutomation(e.getAutomation()),r}removeTrack(e){this.checkAccess("removeTrack");const n=this.getTrackById(e);return n?(this.tracks.splice(Jt(this.tracks,r=>r.getId()===e),1),n):null}getResolution(){return this.PPQ}getBeatsPerBar(){return this.getTimeSignatures()[0].getNumerator()}getTicksPerBar(){return this.getBeatsPerBar()*this.getResolution()}setResolution(e){this.PPQ=e}getTempoChanges(){return this.tempos}createTempoChange({ticks:e,bpm:n}){if(this.PPQ<=0)throw new Error("Song resolution must be provided before creating tempo changes.");if(this.tempos.length===0&&e!==0)throw new Error("The first tempo event must be at tick 0");const r=new ne({ticks:e,bpm:n,time:this.tickToSeconds(e)}),i=O.ge(this.tempos,r,(s,o)=>s.getTicks()-o.getTicks());return i<0?this.tempos.push(r):this.tempos.splice(i,0,r),this.retimingTempoEvents(),r}overwriteTempoChanges(e){if(e.length===0)throw new Error("Cannot clear all the tempo events.");const n=yi(e);n.sort((i,s)=>i.getTicks()-s.getTicks());const r=n[0];if(r.getTicks()>0)throw new Error("The first tempo event needs to start from tick 0");this.tempos=[new ne({ticks:0,time:0,bpm:r.getBpm()})];for(let i=1;i<n.length;i+=1){const s=n[i];this.createTempoChange({ticks:s.getTicks(),bpm:s.getBpm()})}}overwriteTimeSignatures(e){this.timeSignatures=yi(e)}updateTempo(e,n){e.setBpmInternal(n),this.retimingTempoEvents()}getTimeSignatures(){return this.timeSignatures}createTimeSignature({ticks:e,numerator:n,denominator:r}){const i=new Fn({ticks:e,numerator:n,denominator:r}),s=O.ge(this.timeSignatures,i,(o,a)=>o.getTicks()-a.getTicks());return s<0?this.timeSignatures.push(i):this.timeSignatures.splice(s,0,i),i}getLastTick(){let e=0;for(const n of this.tracks)e=Math.max(e,n.getTrackEndTick());return e}getDuration(){return this.tickToSeconds(this.getLastTick())}getTicksPerBeat(){return this.getResolution()*(4/this.getTimeSignatures()[0].getDenominator())}tickToSeconds(e){return oe.tickToSecondsImpl(e,this.getTempoChanges(),this.getResolution())}static tickToSecondsImpl(e,n,r){if(e===0)return 0;let i=O.lt(n,{getTicks:()=>e},(c,l)=>c.getTicks()-l.getTicks());i==-1&&(i=0);const s=n[i],o=e-s.getTicks(),a=oe.tempoBPMToTicksPerSecond(s.getBpm(),r);return s.getTime()+o/a}secondsToTick(e){if(e===0)return 0;let n=O.lt(this.getTempoChanges(),{getTime:()=>e},(o,a)=>o.getTime()-a.getTime());n==-1&&(n=0);const r=this.getTempoChanges()[n],i=e-r.getTime(),s=oe.tempoBPMToTicksPerSecond(r.getBpm(),this.getResolution());return Math.round(r.getTicks()+i*s)}static importMIDI(e,n,r=0,i=!1){const s=new Ch(n),o=r,a=480/s.header.ppq;if(i){const c=[];for(const p of s.header.timeSignatures)c.push(new Fn({ticks:o+yt(p.ticks,a),numerator:p.timeSignature[0],denominator:p.timeSignature[1]}));e.overwriteTimeSignatures(c);const l=[];o>0&&l.push(new ne({ticks:0,time:0,bpm:120}));for(const p of s.header.tempos)l.push(new ne({ticks:o+yt(p.ticks,a),time:p.time,bpm:p.bpm}));e.overwriteTempoChanges(l)}for(const c of s.tracks){const l=e.createTrack({type:wt.MIDI_TRACK,assignDefaultSamplerPlugin:!0});l.setInstrument({program:c.instrument.number,isDrum:c.instrument.percussion});const p=l.createMIDIClip({clipStartTick:o});let h=Number.MAX_SAFE_INTEGER;for(const g of c.notes)p.createNote({pitch:g.midi,velocity:Math.round(g.velocity*127),startTick:o+yt(g.ticks,a),endTick:o+yt(g.ticks+g.durationTicks,a)}),h=Math.min(h,o+yt(g.ticks,a));if(c.controlChanges[7]){const g=new W(Qe.VOLUME);l.getAutomation().addAutomation(g);const I=l.getAutomation().getAutomationValueByTarget(g);for(const v of c.controlChanges[7])I.addPoint(o+yt(v.ticks,a),v.value)}if(c.controlChanges[10]){const g=new W(Qe.PAN);l.getAutomation().addAutomation(g);const I=l.getAutomation().getAutomationValueByTarget(g);for(const v of c.controlChanges[10])I.addPoint(o+yt(v.ticks,a),v.value)}h!==Number.MAX_SAFE_INTEGER&&p.adjustClipLeft(h)}}setPluginContextInternal(e){this.pluginContext={plugin:e,numTracksCreatedByPlugin:0}}clearPluginContextInternal(){this.pluginContext=void 0}getNextTrackId(){const e=this.pluginContext,n=e.plugin.generatedTrackIdsInternal;if(e.numTracksCreatedByPlugin===n.length)n.push(St.generateTrackIdInternal());else if(e.numTracksCreatedByPlugin>n.length)throw new Error("Plugin generated track ids out of sync.");const r=n[e.numTracksCreatedByPlugin];return e.numTracksCreatedByPlugin+=1,r}getNextTrackRank(){const e=this.nextTrackRank;return this.nextTrackRank+=1,e}checkAccess(e){if(!this.pluginContext)throw new Error("Song needs to be accessed in a plugin context in order to use privileged methods.");if(!this.pluginContext.plugin.songAccess()[e])throw new Error(`Plugin ${this.pluginContext.plugin.constructor.id()} requires access ${e} in order to run.`)}static tempoBPMToTicksPerSecond(e,n){return e*n/60}retimingTempoEvents(){this.tempos.sort((e,n)=>e.getTicks()-n.getTicks());for(const e of this.tempos)e.setTimeInternal(this.tickToSeconds(e.getTicks()))}}function yt(t,e){return Math.round(t*e)}var A=(t=>(t[t.Slider=1]="Slider",t[t.Input=2]="Input",t[t.TrackSelector=3]="TrackSelector",t[t.Pitch=4]="Pitch",t[t.TrackPitchSelector=5]="TrackPitchSelector",t[t.InstrumentSelector=6]="InstrumentSelector",t[t.Select=7]="Select",t[t.Switch=8]="Switch",t[t.InputNumber=9]="InputNumber",t[t.MultiTrackSelector=10]="MultiTrackSelector",t[t.None=11]="None",t[t.FileSelector=12]="FileSelector",t[t.MultiSourceAudioSelector=13]="MultiSourceAudioSelector",t[t.AudioRecorder=14]="AudioRecorder",t[t.SelectList=15]="SelectList",t))(A||{});async function Ah(t){return t.arrayBuffer()}var ko=(t=>(t[t.SelectedTrackIds=1]="SelectedTrackIds",t[t.SelectedClipInfos=2]="SelectedClipInfos",t[t.TickAtPlayhead=3]="TickAtPlayhead",t[t.EditingClipInfo=4]="EditingClipInfo",t[t.EditingNoteIds=5]="EditingNoteIds",t[t.TickAtPlayheadSnappedToBeat=6]="TickAtPlayheadSnappedToBeat",t))(ko||{});exports.AudioPlugin=me;exports.AutomationData=rn;exports.AutomationTarget=W;exports.AutomationTargetType=Qe;exports.AutomationValue=Pt;exports.Clip=Y;exports.ClipType=qt;exports.DrumPitch=mo;exports.InjectSource=ko;exports.Note=ot;exports.Song=oe;exports.TempoEvent=ne;exports.TickToSecondStepper=Cf;exports.TimeSignatureEvent=Fn;exports.Track=St;exports.TrackType=wt;exports.TuneflowPipeline=xc;exports.TuneflowPlugin=ar;exports.WidgetType=A;exports.areTuneflowIdsEqual=ho;exports.areTuneflowIdsEqualIgnoreVersion=po;exports.dbToVolumeValue=go;exports.decodeAudioPluginTuneflowId=fe;exports.gainToDb=Ef;exports.gainToVolumeValue=Af;exports.getAudioPluginTuneflowId=Kn;exports.getAudioPluginVersionlessTuneflowId=fo;exports.getFileContentFromFileSelector=Ah;exports.maybeToRaw=Vf;exports.midiNumberToPitch=wf;exports.pitchToHz=Mf;exports.pitchToMidiNumber=_f;exports.remapRange=Of;exports.toVersionlessTfId=xf;exports.volumeValueToDb=Nf;exports.volumeValueToGain=Pf;
